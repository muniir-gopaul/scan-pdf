import{c as Me,a0 as kl,a1 as Dl,a2 as Pl,a3 as Ml,a4 as ca,a5 as ut,g as Ve,a6 as rt,a7 as da,a as f,a8 as Wa,h as m,a9 as He,aa as Ua,P as Ue,ab as Ka,ac as Za,ad as Xa,r as z,ae as pl,m as va,b as Ke,af as Ja,ag as Ft,ah as Kt,e as Ye,w as me,o as al,d as it,ai as yl,l as zt,aj as Ll,ak as fa,x as Ga,al as ma,s as Vl,am as Qt,an as ga,ao as ha,ap as ya,aq as ba,ar as Sa,as as wa,at as en,au as zl,av as tn,aw as ln,ax as an,t as Tl,ay as nn,az as on,aA as Ct,R as un,n as rn,aB as sn,aC as Ol,M as Ca,N as xa,aD as Al,aE as _a,aF as Zt,aG as cn,aH as Et,aI as dn,aJ as vn,aK as fn,aL as wt,aM as qa,A as nl,aN as ka,aO as mn,aP as gn,aQ as Da,aR as hn,Q as Be,aS as xt,aT as yn,aU as bn,aV as Sn,aW as Nl,aX as bl,aY as Yl,aZ as wn,a_ as ul,V as Wt,X as Sl,C as Lt,a$ as Cn,B as jl,D as ye,H as X,I as fe,Y as St,_ as rl,U as pt,W as xn,b0 as _n,J as Xe,Z as Vt,b1 as qn}from"./index-C8KAmNIo.js";import{u as kn,Q as Dn}from"./use-quasar-DVlhIAy8.js";import{api as Ht}from"./axios-DmGKI--Z.js";const Pn=Me({name:"QField",inheritAttrs:!1,props:{...Dl,tag:{type:String,default:"label"}},emits:kl,setup(){return Pl(Ml({tagProp:!0}))}}),Mn={xs:8,sm:10,md:14,lg:20,xl:24},Pa=Me({name:"QChip",props:{...ut,...ca,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:l}){const{proxy:{$q:n}}=Ve(),o=rt(e,n),i=da(e,Mn),v=f(()=>e.selected===!0||e.icon!==void 0),r=f(()=>e.selected===!0?e.iconSelected||n.iconSet.chip.selected:e.icon),s=f(()=>e.iconRemove||n.iconSet.chip.remove),S=f(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=f(()=>{const C=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(C?` text-${C} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(S.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),g=f(()=>{const C=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},G={...C,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||n.lang.label.remove};return{chip:C,remove:G}});function D(C){C.keyCode===13&&h(C)}function h(C){e.disable||(l("update:selected",!e.selected),l("click",C))}function k(C){(C.keyCode===void 0||C.keyCode===13)&&(Ue(C),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function _(){const C=[];S.value===!0&&C.push(m("div",{class:"q-focus-helper"})),v.value===!0&&C.push(m(He,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const G=e.label!==void 0?[m("div",{class:"ellipsis"},[e.label])]:void 0;return C.push(m("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ua(t.default,G))),e.iconRight&&C.push(m(He,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&C.push(m(He,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:s.value,...g.value.remove,onClick:k,onKeyup:k})),C}return()=>{if(e.modelValue===!1)return;const C={class:u.value,style:i.value};return S.value===!0&&Object.assign(C,g.value.chip,{onClick:h,onKeyup:D}),Wa("div",C,_(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ka,e.ripple]])}}}),pn=Me({name:"QItem",props:{...ut,...Za,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:l}){const{proxy:{$q:n}}=Ve(),o=rt(e,n),{hasLink:i,linkAttrs:v,linkClass:r,linkTag:s,navigateOnClick:S}=Xa(),u=z(null),g=z(null),D=f(()=>e.clickable===!0||i.value===!0||e.tag==="label"),h=f(()=>e.disable!==!0&&D.value===!0),k=f(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(o.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(h.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),_=f(()=>e.insetLevel===void 0?null:{["padding"+(n.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function C(M){h.value===!0&&(g.value!==null&&M.qAvoidFocus!==!0&&(M.qKeyEvent!==!0&&document.activeElement===u.value?g.value.focus():document.activeElement===g.value&&u.value.focus()),S(M))}function G(M){if(h.value===!0&&pl(M,[13,32])===!0){Ue(M),M.qKeyEvent=!0;const q=new MouseEvent("click",M);q.qKeyEvent=!0,u.value.dispatchEvent(q)}l("keyup",M)}function O(){const M=va(t.default,[]);return h.value===!0&&M.unshift(m("div",{class:"q-focus-helper",tabindex:-1,ref:g})),M}return()=>{const M={ref:u,class:k.value,style:_.value,role:"listitem",onClick:C,onKeyup:G};return h.value===!0?(M.tabindex=e.tabindex||"0",Object.assign(M,v.value)):D.value===!0&&(M["aria-disabled"]="true"),m(s.value,M,O())}}}),Vn=Me({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const l=f(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>m("div",{class:l.value},Ke(t.default))}}),Tn=Me({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const l=f(()=>parseInt(e.lines,10)),n=f(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),o=f(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>m("div",{style:o.value,class:n.value},Ke(t.default))}});function wl(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Ja.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Ma={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},pa={...Ma,contextMenu:Boolean};function Fl({showing:e,avoidEmit:t,configureAnchorEl:l}){const{props:n,proxy:o,emit:i}=Ve(),v=z(null);let r=null;function s(h){return v.value===null?!1:h===void 0||h.touches===void 0||h.touches.length<=1}const S={};l===void 0&&(Object.assign(S,{hide(h){o.hide(h)},toggle(h){o.toggle(h),h.qAnchorHandled=!0},toggleKey(h){pl(h,13)===!0&&S.toggle(h)},contextClick(h){o.hide(h),Ft(h),Ye(()=>{o.show(h),h.qAnchorHandled=!0})},prevent:Ft,mobileTouch(h){if(S.mobileCleanup(h),s(h)!==!0)return;o.hide(h),v.value.classList.add("non-selectable");const k=h.target;Kt(S,"anchor",[[k,"touchmove","mobileCleanup","passive"],[k,"touchend","mobileCleanup","passive"],[k,"touchcancel","mobileCleanup","passive"],[v.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,o.show(h),h.qAnchorHandled=!0},300)},mobileCleanup(h){v.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&h!==void 0&&wl()}}),l=function(h=n.contextMenu){if(n.noParentEvent===!0||v.value===null)return;let k;h===!0?o.$q.platform.is.mobile===!0?k=[[v.value,"touchstart","mobileTouch","passive"]]:k=[[v.value,"mousedown","hide","passive"],[v.value,"contextmenu","contextClick","notPassive"]]:k=[[v.value,"click","toggle","passive"],[v.value,"keyup","toggleKey","passive"]],Kt(S,"anchor",k)});function u(){yl(S,"anchor")}function g(h){for(v.value=h;v.value.classList.contains("q-anchor--skip");)v.value=v.value.parentNode;l()}function D(){if(n.target===!1||n.target===""||o.$el.parentNode===null)v.value=null;else if(n.target===!0)g(o.$el.parentNode);else{let h=n.target;if(typeof n.target=="string")try{h=document.querySelector(n.target)}catch{h=void 0}h!=null?(v.value=h.$el||h,l()):(v.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return me(()=>n.contextMenu,h=>{v.value!==null&&(u(),l(h))}),me(()=>n.target,()=>{v.value!==null&&u(),D()}),me(()=>n.noParentEvent,h=>{v.value!==null&&(h===!0?u():l())}),al(()=>{D(),t!==!0&&n.modelValue===!0&&v.value===null&&i("update:modelValue",!1)}),it(()=>{r!==null&&clearTimeout(r),u()}),{anchorEl:v,canShow:s,anchorEvents:S}}function Va(e,t){const l=z(null);let n;function o(r,s){const S=`${s!==void 0?"add":"remove"}EventListener`,u=s!==void 0?s:n;r!==window&&r[S]("scroll",u,zt.passive),window[S]("scroll",u,zt.passive),n=s}function i(){l.value!==null&&(o(l.value),l.value=null)}const v=me(()=>e.noParentEvent,()=>{l.value!==null&&(i(),t())});return it(v),{localScrollTarget:l,unconfigureScrollTarget:i,changeScrollEvent:o}}const{notPassiveCapture:Xt}=zt,_t=[];function Jt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let l=Ll.length-1;for(;l>=0;){const n=Ll[l].$;if(n.type.name==="QTooltip"){l--;continue}if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;l--}for(let n=_t.length-1;n>=0;n--){const o=_t[n];if((o.anchorEl.value===null||o.anchorEl.value.contains(t)===!1)&&(t===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(t)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function Ta(e){_t.push(e),_t.length===1&&(document.addEventListener("mousedown",Jt,Xt),document.addEventListener("touchstart",Jt,Xt))}function Gt(e){const t=_t.findIndex(l=>l===e);t!==-1&&(_t.splice(t,1),_t.length===0&&(document.removeEventListener("mousedown",Jt,Xt),document.removeEventListener("touchstart",Jt,Xt)))}let Ql,Wl;function el(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Oa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Cl={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Cl[`${e}#ltr`]=e,Cl[`${e}#rtl`]=e});function tl(e,t){const l=e.split(" ");return{vertical:l[0],horizontal:Cl[`${l[1]}#${t===!0?"rtl":"ltr"}`]}}function On(e,t){let{top:l,left:n,right:o,bottom:i,width:v,height:r}=e.getBoundingClientRect();return t!==void 0&&(l-=t[1],n-=t[0],i+=t[1],o+=t[0],v+=t[0],r+=t[1]),{top:l,bottom:i,height:r,left:n,right:o,width:v,middle:n+(o-n)/2,center:l+(i-l)/2}}function An(e,t,l){let{top:n,left:o}=e.getBoundingClientRect();return n+=t.top,o+=t.left,l!==void 0&&(n+=l[1],o+=l[0]),{top:n,bottom:n+1,height:1,left:o,right:o+1,width:1,middle:o,center:n}}function Fn(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Ul(e,t,l,n){return{top:e[l.vertical]-t[n.vertical],left:e[l.horizontal]-t[n.horizontal]}}function Bl(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Bl(e,t+1)},10);return}const{targetEl:l,offset:n,anchorEl:o,anchorOrigin:i,selfOrigin:v,absoluteOffset:r,fit:s,cover:S,maxHeight:u,maxWidth:g}=e;if(fa.is.ios===!0&&window.visualViewport!==void 0){const $=document.body.style,{offsetLeft:U,offsetTop:le}=window.visualViewport;U!==Ql&&($.setProperty("--q-pe-left",U+"px"),Ql=U),le!==Wl&&($.setProperty("--q-pe-top",le+"px"),Wl=le)}const{scrollLeft:D,scrollTop:h}=l,k=r===void 0?On(o,S===!0?[0,0]:n):An(o,r,n);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:g,maxHeight:u,visibility:"visible"});const{offsetWidth:_,offsetHeight:C}=l,{elWidth:G,elHeight:O}=s===!0||S===!0?{elWidth:Math.max(k.width,_),elHeight:S===!0?Math.max(k.height,C):C}:{elWidth:_,elHeight:C};let M={maxWidth:g,maxHeight:u};(s===!0||S===!0)&&(M.minWidth=k.width+"px",S===!0&&(M.minHeight=k.height+"px")),Object.assign(l.style,M);const q=Fn(G,O);let B=Ul(k,q,i,v);if(r===void 0||n===void 0)sl(B,k,q,i,v);else{const{top:$,left:U}=B;sl(B,k,q,i,v);let le=!1;if(B.top!==$){le=!0;const j=2*n[1];k.center=k.top-=j,k.bottom-=j+2}if(B.left!==U){le=!0;const j=2*n[0];k.middle=k.left-=j,k.right-=j+2}le===!0&&(B=Ul(k,q,i,v),sl(B,k,q,i,v))}M={top:B.top+"px",left:B.left+"px"},B.maxHeight!==void 0&&(M.maxHeight=B.maxHeight+"px",k.height>B.maxHeight&&(M.minHeight=M.maxHeight)),B.maxWidth!==void 0&&(M.maxWidth=B.maxWidth+"px",k.width>B.maxWidth&&(M.minWidth=M.maxWidth)),Object.assign(l.style,M),l.scrollTop!==h&&(l.scrollTop=h),l.scrollLeft!==D&&(l.scrollLeft=D)}function sl(e,t,l,n,o){const i=l.bottom,v=l.right,r=Ga(),s=window.innerHeight-r,S=document.body.clientWidth;if(e.top<0||e.top+i>s)if(o.vertical==="center")e.top=t[n.vertical]>s/2?Math.max(0,s-i):0,e.maxHeight=Math.min(i,s);else if(t[n.vertical]>s/2){const u=Math.min(s,n.vertical==="center"?t.center:n.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(i,u),e.top=Math.max(0,u-i)}else e.top=Math.max(0,n.vertical==="center"?t.center:n.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(i,s-e.top);if(e.left<0||e.left+v>S)if(e.maxWidth=Math.min(v,S),o.horizontal==="middle")e.left=t[n.horizontal]>S/2?Math.max(0,S-v):0;else if(t[n.horizontal]>S/2){const u=Math.min(S,n.horizontal==="middle"?t.middle:n.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(v,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?t.middle:n.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(v,S-e.left)}const Aa=Me({name:"QMenu",inheritAttrs:!1,props:{...pa,...ga,...ut,...Qt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:el},self:{type:String,validator:el},offset:{type:Array,validator:Oa},scrollTarget:Vl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ma,"click","escapeKey"],setup(e,{slots:t,emit:l,attrs:n}){let o=null,i,v,r;const s=Ve(),{proxy:S}=s,{$q:u}=S,g=z(null),D=z(!1),h=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),k=rt(e,u),{registerTick:_,removeTick:C}=ha(),{registerTimeout:G}=ya(),{transitionProps:O,transitionStyle:M}=ba(e),{localScrollTarget:q,changeScrollEvent:B,unconfigureScrollTarget:$}=Va(e,L),{anchorEl:U,canShow:le}=Fl({showing:D}),{hide:j}=Sa({showing:D,canShow:le,handleShow:Pe,handleHide:w,hideOnRouteChange:h,processOnMount:!0}),{showPortal:J,hidePortal:ae,renderPortal:R}=wa(s,g,ge,"menu"),x={anchorEl:U,innerRef:g,onClickOutside(p){if(e.persistent!==!0&&D.value===!0)return j(p),(p.type==="touchstart"||p.target.classList.contains("q-dialog__backdrop"))&&Ue(p),!0}},P=f(()=>tl(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),ue=f(()=>e.cover===!0?P.value:tl(e.self||"top start",u.lang.rtl)),ve=f(()=>(e.square===!0?" q-menu--square":"")+(k.value===!0?" q-menu--dark q-dark":"")),N=f(()=>e.autoClose===!0?{onClick:oe}:{}),re=f(()=>D.value===!0&&e.persistent!==!0);me(re,p=>{p===!0?(en(K),Ta(x)):(zl(K),Gt(x))});function se(){un(()=>{let p=g.value;p&&p.contains(document.activeElement)!==!0&&(p=p.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||p.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||p.querySelector("[autofocus], [data-autofocus]")||p,p.focus({preventScroll:!0}))})}function Pe(p){if(o=e.noRefocus===!1?document.activeElement:null,tn(ie),J(),L(),i=void 0,p!==void 0&&(e.touchPosition||e.contextMenu)){const qe=ln(p);if(qe.left!==void 0){const{top:de,left:_e}=U.value.getBoundingClientRect();i={left:qe.left-_e,top:qe.top-de}}}v===void 0&&(v=me(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,W)),e.noFocus!==!0&&document.activeElement.blur(),_(()=>{W(),e.noFocus!==!0&&se()}),G(()=>{u.platform.is.ios===!0&&(r=e.autoClose,g.value.click()),W(),J(!0),l("show",p)},e.transitionDuration)}function w(p){C(),ae(),T(!0),o!==null&&(p===void 0||p.qClickOutside!==!0)&&(((p?.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),G(()=>{ae(!0),l("hide",p)},e.transitionDuration)}function T(p){i=void 0,v!==void 0&&(v(),v=void 0),(p===!0||D.value===!0)&&(an(ie),$(),Gt(x),zl(K)),p!==!0&&(o=null)}function L(){(U.value!==null||e.scrollTarget!==void 0)&&(q.value=Tl(U.value,e.scrollTarget),B(q.value,W))}function oe(p){r!==!0?(nn(S,p),l("click",p)):r=!1}function ie(p){re.value===!0&&e.noFocus!==!0&&on(g.value,p.target)!==!0&&se()}function K(p){e.noEscDismiss!==!0&&(l("escapeKey"),j(p))}function W(){Bl({targetEl:g.value,offset:e.offset,anchorEl:U.value,anchorOrigin:P.value,selfOrigin:ue.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ge(){return m(Ct,O.value,()=>D.value===!0?m("div",{role:"menu",...n,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+ve.value,n.class],style:[n.style,M.value],...N.value},Ke(t.default)):null)}return it(T),Object.assign(S,{focus:se,updatePosition:W}),R}});let ll=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,ll=e.scrollLeft>=0,e.remove()}const Je=1e3,Bn=["start","center","end","start-force","center-force","end-force"],Fa=Array.prototype.filter,Rn=window.getComputedStyle(document.body).overflowAnchor===void 0?rn:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];Fa.call(l,o=>o.dataset&&o.dataset.qVsAnchor!==void 0).forEach(o=>{delete o.dataset.qVsAnchor});const n=l[t];n?.dataset&&(n.dataset.qVsAnchor="")}))};function Bt(e,t){return e+t}function cl(e,t,l,n,o,i,v,r){const s=e===window?document.scrollingElement||document.documentElement:e,S=o===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-v-r,scrollMaxSize:0,offsetStart:-v,offsetEnd:-r};if(o===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=s.scrollLeft,u.scrollViewSize+=s.clientWidth),u.scrollMaxSize=s.scrollWidth,i===!0&&(u.scrollStart=(ll===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=s.scrollTop,u.scrollViewSize+=s.clientHeight),u.scrollMaxSize=s.scrollHeight),l!==null)for(let g=l.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=g[S]);if(n!==null)for(let g=n.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=g[S]);if(t!==e){const g=s.getBoundingClientRect(),D=t.getBoundingClientRect();o===!0?(u.offsetStart+=D.left-g.left,u.offsetEnd-=D.width):(u.offsetStart+=D.top-g.top,u.offsetEnd-=D.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Kl(e,t,l,n){t==="end"&&(t=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(n===!0&&(t=(ll===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):l===!0?(n===!0&&(t=(ll===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function It(e,t,l,n){if(l>=n)return 0;const o=t.length,i=Math.floor(l/Je),v=Math.floor((n-1)/Je)+1;let r=e.slice(i,v).reduce(Bt,0);return l%Je!==0&&(r-=t.slice(i*Je,l).reduce(Bt,0)),n%Je!==0&&n!==o&&(r-=t.slice(n,v*Je).reduce(Bt,0)),r}const Ba={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ra=Object.keys(Ba),xl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ba};function Ea({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:l,virtualScrollItemSizeComputed:n}){const o=Ve(),{props:i,emit:v,proxy:r}=o,{$q:s}=r;let S,u,g,D=[],h;const k=z(0),_=z(0),C=z({}),G=z(null),O=z(null),M=z(null),q=z({from:0,to:0}),B=f(()=>i.tableColspan!==void 0?i.tableColspan:100);n===void 0&&(n=f(()=>i.virtualScrollItemSize));const $=f(()=>n.value+";"+i.virtualScrollHorizontal),U=f(()=>$.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);me(U,()=>{ve()}),me($,le);function le(){ue(u,!0)}function j(w){ue(w===void 0?u:w)}function J(w,T){const L=t();if(L==null||L.nodeType===8)return;const oe=cl(L,l(),G.value,O.value,i.virtualScrollHorizontal,s.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);g!==oe.scrollViewSize&&ve(oe.scrollViewSize),R(L,oe,Math.min(e.value-1,Math.max(0,parseInt(w,10)||0)),0,Bn.indexOf(T)!==-1?T:u!==-1&&w>u?"end":"start")}function ae(){const w=t();if(w==null||w.nodeType===8)return;const T=cl(w,l(),G.value,O.value,i.virtualScrollHorizontal,s.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),L=e.value-1,oe=T.scrollMaxSize-T.offsetStart-T.offsetEnd-_.value;if(S===T.scrollStart)return;if(T.scrollMaxSize<=0){R(w,T,0,0);return}g!==T.scrollViewSize&&ve(T.scrollViewSize),x(q.value.from);const ie=Math.floor(T.scrollMaxSize-Math.max(T.scrollViewSize,T.offsetEnd)-Math.min(h[L],T.scrollViewSize/2));if(ie>0&&Math.ceil(T.scrollStart)>=ie){R(w,T,L,T.scrollMaxSize-T.offsetEnd-D.reduce(Bt,0));return}let K=0,W=T.scrollStart-T.offsetStart,ge=W;if(W<=oe&&W+T.scrollViewSize>=k.value)W-=k.value,K=q.value.from,ge=W;else for(let p=0;W>=D[p]&&K<L;p++)W-=D[p],K+=Je;for(;W>0&&K<L;)W-=h[K],W>-T.scrollViewSize?(K++,ge=W):ge=h[K]+W;R(w,T,K,ge)}function R(w,T,L,oe,ie){const K=typeof ie=="string"&&ie.indexOf("-force")!==-1,W=K===!0?ie.replace("-force",""):ie,ge=W!==void 0?W:"start";let p=Math.max(0,L-C.value[ge]),qe=p+C.value.total;qe>e.value&&(qe=e.value,p=Math.max(0,qe-C.value.total)),S=T.scrollStart;const de=p!==q.value.from||qe!==q.value.to;if(de===!1&&W===void 0){re(L);return}const{activeElement:_e}=document,pe=M.value;de===!0&&pe!==null&&pe!==_e&&pe.contains(_e)===!0&&(pe.addEventListener("focusout",P),setTimeout(()=>{pe?.removeEventListener("focusout",P)})),Rn(pe,L-p);const ze=W!==void 0?h.slice(p,L).reduce(Bt,0):0;if(de===!0){const Ie=qe>=q.value.from&&p<=q.value.to?q.value.to:qe;q.value={from:p,to:Ie},k.value=It(D,h,0,p),_.value=It(D,h,qe,e.value),requestAnimationFrame(()=>{q.value.to!==qe&&S===T.scrollStart&&(q.value={from:q.value.from,to:qe},_.value=It(D,h,qe,e.value))})}requestAnimationFrame(()=>{if(S!==T.scrollStart)return;de===!0&&x(p);const Ie=h.slice(p,L).reduce(Bt,0),Te=Ie+T.offsetStart+k.value,ke=Te+h[L];let lt=Te+oe;if(W!==void 0){const mt=Ie-ze,at=T.scrollStart+mt;lt=K!==!0&&at<Te&&ke<at+T.scrollViewSize?at:W==="end"?ke-T.scrollViewSize:Te-(W==="start"?0:Math.round((T.scrollViewSize-h[L])/2))}S=lt,Kl(w,lt,i.virtualScrollHorizontal,s.lang.rtl),re(L)})}function x(w){const T=M.value;if(T){const L=Fa.call(T.children,p=>p.classList&&p.classList.contains("q-virtual-scroll--skip")===!1),oe=L.length,ie=i.virtualScrollHorizontal===!0?p=>p.getBoundingClientRect().width:p=>p.offsetHeight;let K=w,W,ge;for(let p=0;p<oe;){for(W=ie(L[p]),p++;p<oe&&L[p].classList.contains("q-virtual-scroll--with-prev")===!0;)W+=ie(L[p]),p++;ge=W-h[K],ge!==0&&(h[K]+=ge,D[Math.floor(K/Je)]+=ge),K++}}}function P(){M.value?.focus()}function ue(w,T){const L=1*n.value;(T===!0||Array.isArray(h)===!1)&&(h=[]);const oe=h.length;h.length=e.value;for(let K=e.value-1;K>=oe;K--)h[K]=L;const ie=Math.floor((e.value-1)/Je);D=[];for(let K=0;K<=ie;K++){let W=0;const ge=Math.min((K+1)*Je,e.value);for(let p=K*Je;p<ge;p++)W+=h[p];D.push(W)}u=-1,S=void 0,k.value=It(D,h,0,q.value.from),_.value=It(D,h,q.value.to,e.value),w>=0?(x(q.value.from),Ye(()=>{J(w)})):se()}function ve(w){if(w===void 0&&typeof window<"u"){const W=t();W!=null&&W.nodeType!==8&&(w=cl(W,l(),G.value,O.value,i.virtualScrollHorizontal,s.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}g=w;const T=parseFloat(i.virtualScrollSliceRatioBefore)||0,L=parseFloat(i.virtualScrollSliceRatioAfter)||0,oe=1+T+L,ie=w===void 0||w<=0?1:Math.ceil(w/n.value),K=Math.max(1,ie,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/oe));C.value={total:Math.ceil(K*oe),start:Math.ceil(K*T),center:Math.ceil(K*(.5+T)),end:Math.ceil(K*(1+T)),view:ie}}function N(w,T){const L=i.virtualScrollHorizontal===!0?"width":"height",oe={["--q-virtual-scroll-item-"+L]:n.value+"px"};return[w==="tbody"?m(w,{class:"q-virtual-scroll__padding",key:"before",ref:G},[m("tr",[m("td",{style:{[L]:`${k.value}px`,...oe},colspan:B.value})])]):m(w,{class:"q-virtual-scroll__padding",key:"before",ref:G,style:{[L]:`${k.value}px`,...oe}}),m(w,{class:"q-virtual-scroll__content",key:"content",ref:M,tabindex:-1},T.flat()),w==="tbody"?m(w,{class:"q-virtual-scroll__padding",key:"after",ref:O},[m("tr",[m("td",{style:{[L]:`${_.value}px`,...oe},colspan:B.value})])]):m(w,{class:"q-virtual-scroll__padding",key:"after",ref:O,style:{[L]:`${_.value}px`,...oe}})]}function re(w){u!==w&&(i.onVirtualScroll!==void 0&&v("virtualScroll",{index:w,from:q.value.from,to:q.value.to-1,direction:w<u?"decrease":"increase",ref:r}),u=w)}ve();const se=sn(ae,s.platform.is.ios===!0?120:35);Ol(()=>{ve()});let Pe=!1;return Ca(()=>{Pe=!0}),xa(()=>{if(Pe!==!0)return;const w=t();S!==void 0&&w!==void 0&&w!==null&&w.nodeType!==8?Kl(w,S,i.virtualScrollHorizontal,s.lang.rtl):J(u)}),it(()=>{se.cancel()}),Object.assign(r,{scrollTo:J,reset:le,refresh:j}),{virtualScrollSliceRange:q,virtualScrollSliceSizeComputed:C,setVirtualScrollSize:ve,onVirtualScrollEvt:se,localResetVirtualScroll:ue,padVirtualScroll:N,scrollTo:J,reset:le,refresh:j}}const Zl=["B","KB","MB","GB","TB","PB"];function En(e,t=1){let l=0;for(;parseInt(e,10)>=1024&&l<Zl.length-1;)e/=1024,++l;return`${e.toFixed(t)}${Zl[l]}`}function Xl(e,t,l){if(l<=t)return t;const n=l-t+1;let o=t+(e-t)%n;return o<t&&(o=n+o),o===0?0:o}function be(e,t=2,l="0"){if(e==null)return e;const n=""+e;return n.length>=t?n:new Array(t-n.length+1).join(l)+n}const Jl=e=>["add","add-unique","toggle"].includes(e),Hn=".*+?^${}()|[]\\",In=Object.keys(Dl);function dl(e,t){if(typeof e=="function")return e;const l=e!==void 0?e:t;return n=>n!==null&&typeof n=="object"&&l in n?n[l]:n}const _l=Me({name:"QSelect",inheritAttrs:!1,props:{...xl,...Al,...Dl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Jl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:xl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...kl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:l}){const{proxy:n}=Ve(),{$q:o}=n,i=z(!1),v=z(!1),r=z(-1),s=z(""),S=z(!1),u=z(!1);let g=null,D=null,h,k,_,C=null,G,O,M,q;const B=z(null),$=z(null),U=z(null),le=z(null),j=z(null),J=_a(e),ae=cn(y),R=f(()=>Array.isArray(e.options)?e.options.length:0),x=f(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:P,virtualScrollSliceSizeComputed:ue,localResetVirtualScroll:ve,padVirtualScroll:N,onVirtualScrollEvt:re,scrollTo:se,setVirtualScrollSize:Pe}=Ea({virtualScrollLength:R,getVirtualScrollTarget:ct,getVirtualScrollEl:yt,virtualScrollItemSizeComputed:x}),w=Ml(),T=f(()=>{const d=e.mapOptions===!0&&e.multiple!==!0,E=e.modelValue!==void 0&&(e.modelValue!==null||d===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const H=e.mapOptions===!0&&h!==void 0?h:[],ne=E.map(we=>Dt(we,H));return e.modelValue===null&&d===!0?ne.filter(we=>we!==null):ne}return E}),L=f(()=>{const d={};return In.forEach(E=>{const H=e[E];H!==void 0&&(d[E]=H)}),d}),oe=f(()=>e.optionsDark===null?w.isDark.value:e.optionsDark),ie=f(()=>Zt(T.value)),K=f(()=>{let d="q-field__input q-placeholder col";return e.hideSelected===!0||T.value.length===0?[d,e.inputClass]:(d+=" q-field__input--padding",e.inputClass===void 0?d:[d,e.inputClass])}),W=f(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ge=f(()=>R.value===0),p=f(()=>T.value.map(d=>Oe.value(d)).join(", ")),qe=f(()=>e.displayValue!==void 0?e.displayValue:p.value),de=f(()=>e.optionsHtml===!0?()=>!0:d=>d?.html===!0),_e=f(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||T.value.some(de.value))),pe=f(()=>w.focused.value===!0?e.tabindex:-1),ze=f(()=>{const d={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${w.targetUid.value}_lb`};return r.value>=0&&(d["aria-activedescendant"]=`${w.targetUid.value}_${r.value}`),d}),Ie=f(()=>({id:`${w.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Te=f(()=>T.value.map((d,E)=>({index:E,opt:d,html:de.value(d),selected:!0,removeAtIndex:Rt,toggleOption:Ee,tabindex:pe.value}))),ke=f(()=>{if(R.value===0)return[];const{from:d,to:E}=P.value;return e.options.slice(d,E).map((H,ne)=>{const we=Qe.value(H)===!0,he=tt(H)===!0,Ae=d+ne,De={clickable:!0,active:he,activeClass:at.value,manualFocus:!0,focused:!1,disable:we,tabindex:-1,dense:e.optionsDense,dark:oe.value,role:"option","aria-selected":he===!0?"true":"false",id:`${w.targetUid.value}_${Ae}`,onClick:()=>{Ee(H)}};return we!==!0&&(r.value===Ae&&(De.focused=!0),o.platform.is.desktop===!0&&(De.onMousemove=()=>{i.value===!0&&Fe(Ae)})),{index:Ae,opt:H,html:de.value(H),label:Oe.value(H),selected:De.active,focused:De.focused,toggleOption:Ee,setOptionIndex:Fe,itemProps:De}})}),lt=f(()=>e.dropdownIcon!==void 0?e.dropdownIcon:o.iconSet.arrow.dropdown),mt=f(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),at=f(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Re=f(()=>dl(e.optionValue,"value")),Oe=f(()=>dl(e.optionLabel,"label")),Qe=f(()=>dl(e.optionDisable,"disable")),Ge=f(()=>T.value.map(Re.value)),qt=f(()=>{const d={onInput:y,onChange:ae,onKeydown:Le,onKeyup:st,onKeypress:Ne,onFocus:ht,onClick(E){k===!0&&wt(E)}};return d.onCompositionstart=d.onCompositionupdate=d.onCompositionend=ae,d});me(T,d=>{h=d,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&w.innerLoading.value!==!0&&(v.value!==!0&&i.value!==!0||ie.value!==!0)&&(_!==!0&&We(),(v.value===!0||i.value===!0)&&Y(""))},{immediate:!0}),me(()=>e.fillInput,We),me(i,ol),me(R,Qa);function kt(d){return e.emitValue===!0?Re.value(d):d}function et(d){if(d!==-1&&d<T.value.length)if(e.multiple===!0){const E=e.modelValue.slice();l("remove",{index:d,value:E.splice(d,1)[0]}),l("update:modelValue",E)}else l("update:modelValue",null)}function Rt(d){et(d),w.focus()}function gt(d,E){const H=kt(d);if(e.multiple!==!0){e.fillInput===!0&&Q(Oe.value(d),!0,!0),l("update:modelValue",H);return}if(T.value.length===0){l("add",{index:0,value:H}),l("update:modelValue",e.multiple===!0?[H]:H);return}if(E===!0&&tt(d)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ne=e.modelValue.slice();l("add",{index:ne.length,value:H}),ne.push(H),l("update:modelValue",ne)}function Ee(d,E){if(w.editable.value!==!0||d===void 0||Qe.value(d)===!0)return;const H=Re.value(d);if(e.multiple!==!0){E!==!0&&(Q(e.fillInput===!0?Oe.value(d):"",!0,!0),ce()),$.value?.focus(),(T.value.length===0||Et(Re.value(T.value[0]),H)!==!0)&&l("update:modelValue",e.emitValue===!0?H:d);return}if((k!==!0||S.value===!0)&&w.focus(),ht(),T.value.length===0){const he=e.emitValue===!0?H:d;l("add",{index:0,value:he}),l("update:modelValue",e.multiple===!0?[he]:he);return}const ne=e.modelValue.slice(),we=Ge.value.findIndex(he=>Et(he,H));if(we!==-1)l("remove",{index:we,value:ne.splice(we,1)[0]});else{if(e.maxValues!==void 0&&ne.length>=e.maxValues)return;const he=e.emitValue===!0?H:d;l("add",{index:ne.length,value:he}),ne.push(he)}l("update:modelValue",ne)}function Fe(d){if(o.platform.is.desktop!==!0)return;const E=d!==-1&&d<R.value?d:-1;r.value!==E&&(r.value=E)}function $e(d=1,E){if(i.value===!0){let H=r.value;do H=Xl(H+d,-1,R.value-1);while(H!==-1&&H!==r.value&&Qe.value(e.options[H])===!0);r.value!==H&&(Fe(H),se(H),E!==!0&&e.useInput===!0&&e.fillInput===!0&&A(H>=0?Oe.value(e.options[H]):G,!0))}}function Dt(d,E){const H=ne=>Et(Re.value(ne),d);return e.options.find(H)||E.find(H)||d}function tt(d){const E=Re.value(d);return Ge.value.find(H=>Et(H,E))!==void 0}function ht(d){e.useInput===!0&&$.value!==null&&(d===void 0||$.value===d.target&&d.target.value===p.value)&&$.value.select()}function Pt(d){pl(d,27)===!0&&i.value===!0&&(wt(d),ce(),We()),l("keyup",d)}function st(d){const{value:E}=d.target;if(d.keyCode!==void 0){Pt(d);return}if(d.target.value="",g!==null&&(clearTimeout(g),g=null),D!==null&&(clearTimeout(D),D=null),We(),typeof E=="string"&&E.length!==0){const H=E.toLocaleLowerCase(),ne=he=>{const Ae=e.options.find(De=>String(he.value(De)).toLocaleLowerCase()===H);return Ae===void 0?!1:(T.value.indexOf(Ae)===-1?Ee(Ae):ce(),!0)},we=he=>{ne(Re)!==!0&&he!==!0&&ne(Oe)!==!0&&Y(E,!0,()=>we(!0))};we()}else w.clearValue(d)}function Ne(d){l("keypress",d)}function Le(d){if(l("keydown",d),dn(d)===!0)return;const E=s.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),H=d.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(r.value!==-1||E===!0);if(d.keyCode===27){Ft(d);return}if(d.keyCode===9&&H===!1){I();return}if(d.target===void 0||d.target.id!==w.targetUid.value||w.editable.value!==!0)return;if(d.keyCode===40&&w.innerLoading.value!==!0&&i.value===!1){Ue(d),Z();return}if(d.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&s.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?et(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(d.keyCode===35||d.keyCode===36)&&(typeof s.value!="string"||s.value.length===0)&&(Ue(d),r.value=-1,$e(d.keyCode===36?1:-1,e.multiple)),(d.keyCode===33||d.keyCode===34)&&ue.value!==void 0&&(Ue(d),r.value=Math.max(-1,Math.min(R.value,r.value+(d.keyCode===33?-1:1)*ue.value.view)),$e(d.keyCode===33?1:-1,e.multiple)),(d.keyCode===38||d.keyCode===40)&&(Ue(d),$e(d.keyCode===38?-1:1,e.multiple));const ne=R.value;if((M===void 0||q<Date.now())&&(M=""),ne>0&&e.useInput!==!0&&d.key!==void 0&&d.key.length===1&&d.altKey===!1&&d.ctrlKey===!1&&d.metaKey===!1&&(d.keyCode!==32||M.length!==0)){i.value!==!0&&Z(d);const we=d.key.toLocaleLowerCase(),he=M.length===1&&M[0]===we;q=Date.now()+1500,he===!1&&(Ue(d),M+=we);const Ae=new RegExp("^"+M.split("").map(il=>Hn.indexOf(il)!==-1?"\\"+il:il).join(".*"),"i");let De=r.value;if(he===!0||De<0||Ae.test(Oe.value(e.options[De]))!==!0)do De=Xl(De+1,-1,ne-1);while(De!==r.value&&(Qe.value(e.options[De])===!0||Ae.test(Oe.value(e.options[De]))!==!0));r.value!==De&&Ye(()=>{Fe(De),se(De),De>=0&&e.useInput===!0&&e.fillInput===!0&&A(Oe.value(e.options[De]),!0)});return}if(!(d.keyCode!==13&&(d.keyCode!==32||e.useInput===!0||M!=="")&&(d.keyCode!==9||H===!1))){if(d.keyCode!==9&&Ue(d),r.value!==-1&&r.value<ne){Ee(e.options[r.value]);return}if(E===!0){const we=(he,Ae)=>{if(Ae){if(Jl(Ae)!==!0)return}else Ae=e.newValueMode;if(Q("",e.multiple!==!0,!0),he==null)return;(Ae==="toggle"?Ee:gt)(he,Ae==="add-unique"),e.multiple!==!0&&($.value?.focus(),ce())};if(e.onNewValue!==void 0?l("newValue",s.value,we):we(s.value),e.multiple!==!0)return}i.value===!0?I():w.innerLoading.value!==!0&&Z()}}function yt(){return k===!0?j.value:U.value!==null&&U.value.contentEl!==null?U.value.contentEl:void 0}function ct(){return yt()}function Mt(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Te.value.map(d=>t["selected-item"](d)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Te.value.map((d,E)=>m(Pa,{key:"option-"+E,removable:w.editable.value===!0&&Qe.value(d.opt)!==!0,dense:!0,textColor:e.color,tabindex:pe.value,onRemove(){d.removeAtIndex(E)}},()=>m("span",{class:"ellipsis",[d.html===!0?"innerHTML":"textContent"]:Oe.value(d.opt)}))):[m("span",{class:"ellipsis",[_e.value===!0?"innerHTML":"textContent"]:qe.value})]}function Ze(){if(ge.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:s.value}):void 0;const d=t.option!==void 0?t.option:H=>m(pn,{key:H.index,...H.itemProps},()=>m(Vn,()=>m(Tn,()=>m("span",{[H.html===!0?"innerHTML":"textContent"]:H.label}))));let E=N("div",ke.value.map(d));return t["before-options"]!==void 0&&(E=t["before-options"]().concat(E)),nl(t["after-options"],E)}function bt(d,E){const H=E===!0?{...ze.value,...w.splitAttrs.attributes.value}:void 0,ne={ref:E===!0?$:void 0,key:"i_t",class:K.value,style:e.inputStyle,value:s.value!==void 0?s.value:"",type:"search",...H,id:E===!0?w.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":d===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...qt.value};return d!==!0&&k===!0&&(Array.isArray(ne.class)===!0?ne.class=[...ne.class,"no-pointer-events"]:ne.class+=" no-pointer-events"),m("input",ne)}function y(d){g!==null&&(clearTimeout(g),g=null),D!==null&&(clearTimeout(D),D=null),!(d&&d.target&&d.target.qComposing===!0)&&(A(d.target.value||""),_=!0,G=s.value,w.focused.value!==!0&&(k!==!0||S.value===!0)&&w.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{g=null,Y(s.value)},e.inputDebounce)))}function A(d,E){s.value!==d&&(s.value=d,E===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",d):D=setTimeout(()=>{D=null,l("inputValue",d)},e.inputDebounce))}function Q(d,E,H){_=H!==!0,e.useInput===!0&&(A(d,!0),(E===!0||H!==!0)&&(G=d),E!==!0&&Y(d))}function Y(d,E,H){if(e.onFilter===void 0||E!==!0&&w.focused.value!==!0)return;w.innerLoading.value===!0?l("filterAbort"):(w.innerLoading.value=!0,u.value=!0),d!==""&&e.multiple!==!0&&T.value.length!==0&&_!==!0&&d===Oe.value(T.value[0])&&(d="");const ne=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);C!==null&&clearTimeout(C),C=ne,l("filter",d,(we,he)=>{(E===!0||w.focused.value===!0)&&C===ne&&(clearTimeout(C),typeof we=="function"&&we(),u.value=!1,Ye(()=>{w.innerLoading.value=!1,w.editable.value===!0&&(E===!0?i.value===!0&&ce():i.value===!0?ol(!0):i.value=!0),typeof he=="function"&&Ye(()=>{he(n)}),typeof H=="function"&&Ye(()=>{H(n)})}))},()=>{w.focused.value===!0&&C===ne&&(clearTimeout(C),w.innerLoading.value=!1,u.value=!1),i.value===!0&&(i.value=!1)})}function ee(){return m(Aa,{ref:U,class:W.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ge.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:oe.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:mt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ie.value,onScrollPassive:re,onBeforeShow:Hl,onBeforeHide:Ce,onShow:Se},Ze)}function Ce(d){Il(d),I()}function Se(){Pe()}function a(d){wt(d),$.value?.focus(),S.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function c(d){wt(d),Ye(()=>{S.value=!1})}function b(){const d=[m(Pn,{class:`col-auto ${w.fieldClass.value}`,...L.value,for:w.targetUid.value,dark:oe.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:s.value.length!==0,...w.splitAttrs.listeners.value,onFocus:a,onBlur:c},{...t,rawControl:()=>w.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&d.push(m("div",{ref:j,class:W.value+" scroll",style:e.popupContentStyle,...Ie.value,onClick:Ft,onScrollPassive:re},Ze())),m(qa,{ref:le,modelValue:v.value,position:e.useInput===!0?"top":void 0,transitionShow:O,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Hl,onBeforeHide:V,onHide:F,onShow:te},()=>m("div",{class:"q-select__dialog"+(oe.value===!0?" q-select__dialog--dark q-dark":"")+(S.value===!0?" q-select__dialog--focused":"")},d))}function V(d){Il(d),le.value!==null&&le.value.__updateRefocusTarget(w.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),w.focused.value=!1}function F(d){ce(),w.focused.value===!1&&l("blur",d),We()}function te(){const d=document.activeElement;(d===null||d.id!==w.targetUid.value)&&$.value!==null&&$.value!==d&&$.value.focus(),Pe()}function I(){v.value!==!0&&(r.value=-1,i.value===!0&&(i.value=!1),w.focused.value===!1&&(C!==null&&(clearTimeout(C),C=null),w.innerLoading.value===!0&&(l("filterAbort"),w.innerLoading.value=!1,u.value=!1)))}function Z(d){w.editable.value===!0&&(k===!0?(w.onControlFocusin(d),v.value=!0,Ye(()=>{w.focus()})):w.focus(),e.onFilter!==void 0?Y(s.value):(ge.value!==!0||t["no-option"]!==void 0)&&(i.value=!0))}function ce(){v.value=!1,I()}function We(){e.useInput===!0&&Q(e.multiple!==!0&&e.fillInput===!0&&T.value.length!==0&&Oe.value(T.value[0])||"",!0,!0)}function ol(d){let E=-1;if(d===!0){if(T.value.length!==0){const H=Re.value(T.value[0]);E=e.options.findIndex(ne=>Et(Re.value(ne),H))}ve(E)}Fe(E)}function Qa(d,E){i.value===!0&&w.innerLoading.value===!1&&(ve(-1,!0),Ye(()=>{i.value===!0&&w.innerLoading.value===!1&&(d>E?ve():ol(!0))}))}function El(){v.value===!1&&U.value!==null&&U.value.updatePosition()}function Hl(d){d!==void 0&&wt(d),l("popupShow",d),w.hasPopupOpen=!0,w.onControlFocusin(d)}function Il(d){d!==void 0&&wt(d),l("popupHide",d),w.hasPopupOpen=!1,w.onControlFocusout(d)}function $l(){k=o.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||ge.value===!1:!0),O=o.platform.is.ios===!0&&k===!0&&e.useInput===!0?"fade":e.transitionShow}return vn($l),fn(El),$l(),it(()=>{g!==null&&clearTimeout(g),D!==null&&clearTimeout(D)}),Object.assign(n,{showPopup:Z,hidePopup:ce,removeAtIndex:et,add:gt,toggleOption:Ee,getOptionIndex:()=>r.value,setOptionIndex:Fe,moveOptionSelection:$e,filter:Y,updateMenuPosition:El,updateInputValue:Q,isOptionSelected:tt,getEmittingOptionValue:kt,isOptionDisabled:(...d)=>Qe.value.apply(null,d)===!0,getOptionValue:(...d)=>Re.value.apply(null,d),getOptionLabel:(...d)=>Oe.value.apply(null,d)}),Object.assign(w,{innerValue:T,fieldClass:f(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:B,targetRef:$,hasValue:ie,showPopup:Z,floatingLabel:f(()=>e.hideSelected!==!0&&ie.value===!0||typeof s.value=="number"||s.value.length!==0||Zt(e.displayValue)),getControlChild:()=>{if(w.editable.value!==!1&&(v.value===!0||ge.value!==!0||t["no-option"]!==void 0))return k===!0?b():ee();w.hasPopupOpen===!0&&(w.hasPopupOpen=!1)},controlEvents:{onFocusin(d){w.onControlFocusin(d)},onFocusout(d){w.onControlFocusout(d,()=>{We(),I()})},onClick(d){if(Ft(d),k!==!0&&i.value===!0){I(),$.value?.focus();return}Z(d)}},getControl:d=>{const E=Mt(),H=d===!0||v.value!==!0||k!==!0;if(e.useInput===!0)E.push(bt(d,H));else if(w.editable.value===!0){const we=H===!0?ze.value:void 0;E.push(m("input",{ref:H===!0?$:void 0,key:"d_t",class:"q-select__focus-target",id:H===!0?w.targetUid.value:void 0,value:qe.value,readonly:!0,"data-autofocus":d===!0||e.autofocus===!0||void 0,...we,onKeydown:Le,onKeyup:Pt,onKeypress:Ne})),H===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&E.push(m("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:st}))}if(J.value!==void 0&&e.disable!==!0&&Ge.value.length!==0){const we=Ge.value.map(he=>m("option",{value:he,selected:!0}));E.push(m("select",{class:"hidden",name:J.value,multiple:e.multiple},we))}const ne=e.useInput===!0||H!==!0?void 0:w.splitAttrs.attributes.value;return m("div",{class:"q-field__native row items-center",...ne,...w.splitAttrs.listeners.value},E)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[m(He,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:lt.value})]:null}),Pl(w)}});function $n(){let e=Object.create(null);return{getCache:(t,l)=>e[t]===void 0?e[t]=typeof l=="function"?l():l:e[t],setCache(t,l){e[t]=l},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const ft=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Ln(e,t,l){return Object.prototype.toString.call(e)==="[object Date]"&&(l=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),jn(Rl(e,t,l))}function Gl(e,t,l){return Ia(Yn(e,t,l))}function zn(e){return Nn(e)===0}function Ut(e,t){return t<=6?31:t<=11||zn(e)?30:29}function Nn(e){const t=ft.length;let l=ft[0],n,o,i,v,r;if(e<l||e>=ft[t-1])throw new Error("Invalid Jalaali year "+e);for(r=1;r<t&&(n=ft[r],o=n-l,!(e<n));r+=1)l=n;return v=e-l,o-v<6&&(v=v-o+xe(o+4,33)*33),i=je(je(v+1,33)-1,4),i===-1&&(i=4),i}function Ha(e,t){const l=ft.length,n=e+621;let o=-14,i=ft[0],v,r,s,S,u;if(e<i||e>=ft[l-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<l&&(v=ft[u],r=v-i,!(e<v));u+=1)o=o+xe(r,33)*8+xe(je(r,33),4),i=v;S=e-i,o=o+xe(S,33)*8+xe(je(S,33)+3,4),je(r,33)===4&&r-S===4&&(o+=1);const g=xe(n,4)-xe((xe(n,100)+1)*3,4)-150,D=20+o-g;return t||(r-S<6&&(S=S-r+xe(r+4,33)*33),s=je(je(S+1,33)-1,4),s===-1&&(s=4)),{leap:s,gy:n,march:D}}function Yn(e,t,l){const n=Ha(e,!0);return Rl(n.gy,3,n.march)+(t-1)*31-xe(t,7)*(t-7)+l-1}function jn(e){const t=Ia(e).gy;let l=t-621,n,o,i;const v=Ha(l,!1),r=Rl(t,3,v.march);if(i=e-r,i>=0){if(i<=185)return o=1+xe(i,31),n=je(i,31)+1,{jy:l,jm:o,jd:n};i-=186}else l-=1,i+=179,v.leap===1&&(i+=1);return o=7+xe(i,30),n=je(i,30)+1,{jy:l,jm:o,jd:n}}function Rl(e,t,l){let n=xe((e+xe(t-8,6)+100100)*1461,4)+xe(153*je(t+9,12)+2,5)+l-34840408;return n=n-xe(xe(e+100100+xe(t-8,6),100)*3,4)+752,n}function Ia(e){let t=4*e+139361631;t=t+xe(xe(4*e+183187720,146097)*3,4)*4-3908;const l=xe(je(t,1461),4)*5+308,n=xe(je(l,153),5)+1,o=je(xe(l,153),12)+1;return{gy:xe(t,1461)-100100+xe(8-o,6),gm:o,gd:n}}function xe(e,t){return~~(e/t)}function je(e,t){return e-~~(e/t)*t}const Qn=["gregorian","persian"],ea={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Qn.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Wn=["update:modelValue"];function dt(e){return e.year+"/"+be(e.month)+"/"+be(e.day)}function Un(e,t){const l=f(()=>e.disable!==!0&&e.readonly!==!0),n=f(()=>l.value===!0?0:-1),o=f(()=>{const r=[];return e.color!==void 0&&r.push(`bg-${e.color}`),e.textColor!==void 0&&r.push(`text-${e.textColor}`),r.join(" ")});function i(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function v(r){const s=new Date,S=r===!0?null:0;if(e.calendar==="persian"){const u=Ln(s);return{year:u.jy,month:u.jm,day:u.jd}}return{year:s.getFullYear(),month:s.getMonth()+1,day:s.getDate(),hour:S,minute:S,second:S,millisecond:S}}return{editable:l,tabindex:n,headerClass:o,getLocale:i,getCurrentDate:v}}const $a=864e5,Kn=36e5,ql=6e4,La="YYYY-MM-DDTHH:mm:ss.SSSZ",Zn=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Xn=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,vl={};function Jn(e,t){const l="("+t.days.join("|")+")",n=e+l;if(vl[n]!==void 0)return vl[n];const o="("+t.daysShort.join("|")+")",i="("+t.months.join("|")+")",v="("+t.monthsShort.join("|")+")",r={};let s=0;const S=e.replace(Xn,g=>{switch(s++,g){case"YY":return r.YY=s,"(-?\\d{1,2})";case"YYYY":return r.YYYY=s,"(-?\\d{1,4})";case"M":return r.M=s,"(\\d{1,2})";case"Mo":return r.M=s++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return r.M=s,"(\\d{2})";case"MMM":return r.MMM=s,v;case"MMMM":return r.MMMM=s,i;case"D":return r.D=s,"(\\d{1,2})";case"Do":return r.D=s++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return r.D=s,"(\\d{2})";case"H":return r.H=s,"(\\d{1,2})";case"HH":return r.H=s,"(\\d{2})";case"h":return r.h=s,"(\\d{1,2})";case"hh":return r.h=s,"(\\d{2})";case"m":return r.m=s,"(\\d{1,2})";case"mm":return r.m=s,"(\\d{2})";case"s":return r.s=s,"(\\d{1,2})";case"ss":return r.s=s,"(\\d{2})";case"S":return r.S=s,"(\\d{1})";case"SS":return r.S=s,"(\\d{2})";case"SSS":return r.S=s,"(\\d{3})";case"A":return r.A=s,"(AM|PM)";case"a":return r.a=s,"(am|pm)";case"aa":return r.aa=s,"(a\\.m\\.|p\\.m\\.)";case"ddd":return o;case"dddd":return l;case"Q":case"d":case"E":return"(\\d{1})";case"do":return s++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return s++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return s++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return r.Z=s,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return r.ZZ=s,"(Z|[+-]\\d{2}\\d{2})";case"X":return r.X=s,"(-?\\d+)";case"x":return r.x=s,"(-?\\d{4,})";default:return s--,g[0]==="["&&(g=g.substring(1,g.length-1)),g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),u={map:r,regex:new RegExp("^"+S)};return vl[n]=u,u}function za(e,t){return e!==void 0?e:t!==void 0?t.date:mn.date}function ta(e,t=""){const l=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),i=n%60;return l+be(o)+t+be(i)}function Gn(e,t,l,n,o){const i={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(o!==void 0&&Object.assign(i,o),e==null||e===""||typeof e!="string")return i;t===void 0&&(t=La);const v=za(l,ka.props),r=v.months,s=v.monthsShort,{regex:S,map:u}=Jn(t,v),g=e.match(S);if(g===null)return i;let D="";if(u.X!==void 0||u.x!==void 0){const h=parseInt(g[u.X!==void 0?u.X:u.x],10);if(isNaN(h)===!0||h<0)return i;const k=new Date(h*(u.X!==void 0?1e3:1));i.year=k.getFullYear(),i.month=k.getMonth()+1,i.day=k.getDate(),i.hour=k.getHours(),i.minute=k.getMinutes(),i.second=k.getSeconds(),i.millisecond=k.getMilliseconds()}else{if(u.YYYY!==void 0)i.year=parseInt(g[u.YYYY],10);else if(u.YY!==void 0){const h=parseInt(g[u.YY],10);i.year=h<0?h:2e3+h}if(u.M!==void 0){if(i.month=parseInt(g[u.M],10),i.month<1||i.month>12)return i}else u.MMM!==void 0?i.month=s.indexOf(g[u.MMM])+1:u.MMMM!==void 0&&(i.month=r.indexOf(g[u.MMMM])+1);if(u.D!==void 0){if(i.day=parseInt(g[u.D],10),i.year===null||i.month===null||i.day<1)return i;const h=n!=="persian"?new Date(i.year,i.month,0).getDate():Ut(i.year,i.month);if(i.day>h)return i}u.H!==void 0?i.hour=parseInt(g[u.H],10)%24:u.h!==void 0&&(i.hour=parseInt(g[u.h],10)%12,(u.A&&g[u.A]==="PM"||u.a&&g[u.a]==="pm"||u.aa&&g[u.aa]==="p.m.")&&(i.hour+=12),i.hour=i.hour%24),u.m!==void 0&&(i.minute=parseInt(g[u.m],10)%60),u.s!==void 0&&(i.second=parseInt(g[u.s],10)%60),u.S!==void 0&&(i.millisecond=parseInt(g[u.S],10)*10**(3-g[u.S].length)),(u.Z!==void 0||u.ZZ!==void 0)&&(D=u.Z!==void 0?g[u.Z].replace(":",""):g[u.ZZ],i.timezoneOffset=(D[0]==="+"?-1:1)*(60*D.slice(1,3)+1*D.slice(3,5)))}return i.dateHash=be(i.year,4)+"/"+be(i.month)+"/"+be(i.day),i.timeHash=be(i.hour)+":"+be(i.minute)+":"+be(i.second)+D,i}function fl(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const l=new Date(t.getFullYear(),0,4);l.setDate(l.getDate()-(l.getDay()+6)%7+3);const n=t.getTimezoneOffset()-l.getTimezoneOffset();t.setHours(t.getHours()-n);const o=(t-l)/($a*7);return 1+Math.floor(o)}function ot(e,t,l){const n=new Date(e),o=`set${l===!0?"UTC":""}`;switch(t){case"year":case"years":n[`${o}Month`](0);case"month":case"months":n[`${o}Date`](1);case"day":case"days":case"date":n[`${o}Hours`](0);case"hour":case"hours":n[`${o}Minutes`](0);case"minute":case"minutes":n[`${o}Seconds`](0);case"second":case"seconds":n[`${o}Milliseconds`](0)}return n}function Nt(e,t,l){return(e.getTime()-e.getTimezoneOffset()*ql-(t.getTime()-t.getTimezoneOffset()*ql))/l}function Na(e,t,l="days"){const n=new Date(e),o=new Date(t);switch(l){case"years":case"year":return n.getFullYear()-o.getFullYear();case"months":case"month":return(n.getFullYear()-o.getFullYear())*12+n.getMonth()-o.getMonth();case"days":case"day":case"date":return Nt(ot(n,"day"),ot(o,"day"),$a);case"hours":case"hour":return Nt(ot(n,"hour"),ot(o,"hour"),Kn);case"minutes":case"minute":return Nt(ot(n,"minute"),ot(o,"minute"),ql);case"seconds":case"second":return Nt(ot(n,"second"),ot(o,"second"),1e3)}}function ml(e){return Na(e,ot(e,"year"),"days")+1}function Tt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const la={YY(e,t,l){const n=this.YYYY(e,t,l)%100;return n>=0?be(n):"-"+be(Math.abs(n))},YYYY(e,t,l){return l??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return Tt(e.getMonth()+1)},MM(e){return be(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Tt(this.Q(e))},D(e){return e.getDate()},Do(e){return Tt(e.getDate())},DD(e){return be(e.getDate())},DDD(e){return ml(e)},DDDo(e){return Tt(ml(e))},DDDD(e){return be(ml(e),3)},d(e){return e.getDay()},do(e){return Tt(e.getDay())},dd(e,t){return t.days[e.getDay()].slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return fl(e)},wo(e){return Tt(fl(e))},ww(e){return be(fl(e))},H(e){return e.getHours()},HH(e){return be(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return be(this.h(e))},m(e){return e.getMinutes()},mm(e){return be(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return be(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return be(Math.floor(e.getMilliseconds()/10))},SSS(e){return be(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,t,l,n){const o=n??e.getTimezoneOffset();return ta(o,":")},ZZ(e,t,l,n){const o=n??e.getTimezoneOffset();return ta(o)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function eo(e,t,l,n,o){if(e!==0&&!e||e===1/0||e===-1/0)return;const i=new Date(e);if(isNaN(i))return;t===void 0&&(t=La);const v=za(l,ka.props);return t.replace(Zn,(r,s)=>r in la?la[r](i,v,n,o):s===void 0?r:s.split("\\]").join("]"))}const nt=20,to=["Calendar","Years","Months"],aa=e=>to.includes(e),gl=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ot="  ";function vt(e){return e.year+"/"+be(e.month)}const lo=Me({name:"QDate",props:{...ea,...Al,...ut,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...ea.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:gl},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:gl},navigationMaxYearMonth:{type:String,validator:gl},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:aa}},emits:[...Wn,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:l}){const{proxy:n}=Ve(),{$q:o}=n,i=rt(e,o),{getCache:v}=$n(),{tabindex:r,headerClass:s,getLocale:S,getCurrentDate:u}=Un(e,o);let g;const D=gn(e),h=hn(D),k=z(null),_=z(gt()),C=z(S()),G=f(()=>gt()),O=f(()=>S()),M=f(()=>u()),q=z(Fe(_.value,C.value)),B=z(e.defaultView),$=f(()=>o.lang.rtl===!0?"right":"left"),U=z($.value),le=z($.value),j=q.value.year,J=z(j-j%nt-(j<0?nt:0)),ae=z(null),R=f(()=>{const a=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${a} q-date--${a}-${e.minimal===!0?"minimal":"standard"}`+(i.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),x=f(()=>e.color||"primary"),P=f(()=>e.textColor||"white"),ue=f(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ve=f(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),N=f(()=>ve.value.filter(a=>typeof a=="string").map(a=>Ee(a,_.value,C.value)).filter(a=>a.dateHash!==null&&a.day!==null&&a.month!==null&&a.year!==null)),re=f(()=>{const a=c=>Ee(c,_.value,C.value);return ve.value.filter(c=>Da(c)===!0&&c.from!==void 0&&c.to!==void 0).map(c=>({from:a(c.from),to:a(c.to)})).filter(c=>c.from.dateHash!==null&&c.to.dateHash!==null&&c.from.dateHash<c.to.dateHash)}),se=f(()=>e.calendar!=="persian"?a=>new Date(a.year,a.month-1,a.day):a=>{const c=Gl(a.year,a.month,a.day);return new Date(c.gy,c.gm-1,c.gd)}),Pe=f(()=>e.calendar==="persian"?dt:(a,c,b)=>eo(new Date(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond),c===void 0?_.value:c,b===void 0?C.value:b,a.year,a.timezoneOffset)),w=f(()=>N.value.length+re.value.reduce((a,c)=>a+1+Na(se.value(c.to),se.value(c.from)),0)),T=f(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(ae.value!==null){const b=ae.value.init,V=se.value(b);return C.value.daysShort[V.getDay()]+", "+C.value.monthsShort[b.month-1]+" "+b.day+Ot+"?"}if(w.value===0)return Ot;if(w.value>1)return`${w.value} ${C.value.pluralDay}`;const a=N.value[0],c=se.value(a);return isNaN(c.valueOf())===!0?Ot:C.value.headerTitle!==void 0?C.value.headerTitle(c,a):C.value.daysShort[c.getDay()]+", "+C.value.monthsShort[a.month-1]+" "+a.day}),L=f(()=>N.value.concat(re.value.map(c=>c.from)).sort((c,b)=>c.year-b.year||c.month-b.month)[0]),oe=f(()=>N.value.concat(re.value.map(c=>c.to)).sort((c,b)=>b.year-c.year||b.month-c.month)[0]),ie=f(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(w.value===0)return Ot;if(w.value>1){const a=L.value,c=oe.value,b=C.value.monthsShort;return b[a.month-1]+(a.year!==c.year?" "+a.year+Ot+b[c.month-1]+" ":a.month!==c.month?Ot+b[c.month-1]:"")+" "+c.year}return N.value[0].year}),K=f(()=>{const a=[o.iconSet.datetime.arrowLeft,o.iconSet.datetime.arrowRight];return o.lang.rtl===!0?a.reverse():a}),W=f(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):C.value.firstDayOfWeek),ge=f(()=>{const a=C.value.daysShort,c=W.value;return c>0?a.slice(c,7).concat(a.slice(0,c)):a}),p=f(()=>{const a=q.value;return e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():Ut(a.year,a.month)}),qe=f(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),de=f(()=>{if(e.navigationMinYearMonth===void 0)return null;const a=e.navigationMinYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),_e=f(()=>{if(e.navigationMaxYearMonth===void 0)return null;const a=e.navigationMaxYearMonth.split("/");return{year:parseInt(a[0],10),month:parseInt(a[1],10)}}),pe=f(()=>{const a={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return de.value!==null&&de.value.year>=q.value.year&&(a.year.prev=!1,de.value.year===q.value.year&&de.value.month>=q.value.month&&(a.month.prev=!1)),_e.value!==null&&_e.value.year<=q.value.year&&(a.year.next=!1,_e.value.year===q.value.year&&_e.value.month<=q.value.month&&(a.month.next=!1)),a}),ze=f(()=>{const a={};return N.value.forEach(c=>{const b=vt(c);a[b]===void 0&&(a[b]=[]),a[b].push(c.day)}),a}),Ie=f(()=>{const a={};return re.value.forEach(c=>{const b=vt(c.from),V=vt(c.to);if(a[b]===void 0&&(a[b]=[]),a[b].push({from:c.from.day,to:b===V?c.to.day:void 0,range:c}),b<V){let F;const{year:te,month:I}=c.from,Z=I<12?{year:te,month:I+1}:{year:te+1,month:1};for(;(F=vt(Z))<=V;)a[F]===void 0&&(a[F]=[]),a[F].push({from:void 0,to:F===V?c.to.day:void 0,range:c}),Z.month++,Z.month>12&&(Z.year++,Z.month=1)}}),a}),Te=f(()=>{if(ae.value===null)return;const{init:a,initHash:c,final:b,finalHash:V}=ae.value,[F,te]=c<=V?[a,b]:[b,a],I=vt(F),Z=vt(te);if(I!==ke.value&&Z!==ke.value)return;const ce={};return I===ke.value?(ce.from=F.day,ce.includeFrom=!0):ce.from=1,Z===ke.value?(ce.to=te.day,ce.includeTo=!0):ce.to=p.value,ce}),ke=f(()=>vt(q.value)),lt=f(()=>{const a={};if(e.options===void 0){for(let b=1;b<=p.value;b++)a[b]=!0;return a}const c=typeof e.options=="function"?e.options:b=>e.options.includes(b);for(let b=1;b<=p.value;b++){const V=ke.value+"/"+be(b);a[b]=c(V)}return a}),mt=f(()=>{const a={};if(e.events===void 0)for(let c=1;c<=p.value;c++)a[c]=!1;else{const c=typeof e.events=="function"?e.events:b=>e.events.includes(b);for(let b=1;b<=p.value;b++){const V=ke.value+"/"+be(b);a[b]=c(V)===!0&&qe.value(V)}}return a}),at=f(()=>{let a,c;const{year:b,month:V}=q.value;if(e.calendar!=="persian")a=new Date(b,V-1,1),c=new Date(b,V-1,0).getDate();else{const F=Gl(b,V,1);a=new Date(F.gy,F.gm-1,F.gd);let te=V-1,I=b;te===0&&(te=12,I--),c=Ut(I,te)}return{days:a.getDay()-W.value-1,endDay:c}}),Re=f(()=>{const a=[],{days:c,endDay:b}=at.value,V=c<0?c+7:c;if(V<6)for(let I=b-V;I<=b;I++)a.push({i:I,fill:!0});const F=a.length;for(let I=1;I<=p.value;I++){const Z={i:I,event:mt.value[I],classes:[]};lt.value[I]===!0&&(Z.in=!0,Z.flat=!0),a.push(Z)}if(ze.value[ke.value]!==void 0&&ze.value[ke.value].forEach(I=>{const Z=F+I-1;Object.assign(a[Z],{selected:!0,unelevated:!0,flat:!1,color:x.value,textColor:P.value})}),Ie.value[ke.value]!==void 0&&Ie.value[ke.value].forEach(I=>{if(I.from!==void 0){const Z=F+I.from-1,ce=F+(I.to||p.value)-1;for(let We=Z;We<=ce;We++)Object.assign(a[We],{range:I.range,unelevated:!0,color:x.value,textColor:P.value});Object.assign(a[Z],{rangeFrom:!0,flat:!1}),I.to!==void 0&&Object.assign(a[ce],{rangeTo:!0,flat:!1})}else if(I.to!==void 0){const Z=F+I.to-1;for(let ce=F;ce<=Z;ce++)Object.assign(a[ce],{range:I.range,unelevated:!0,color:x.value,textColor:P.value});Object.assign(a[Z],{flat:!1,rangeTo:!0})}else{const Z=F+p.value-1;for(let ce=F;ce<=Z;ce++)Object.assign(a[ce],{range:I.range,unelevated:!0,color:x.value,textColor:P.value})}}),Te.value!==void 0){const I=F+Te.value.from-1,Z=F+Te.value.to-1;for(let ce=I;ce<=Z;ce++)a[ce].color=x.value,a[ce].editRange=!0;Te.value.includeFrom===!0&&(a[I].editRangeFrom=!0),Te.value.includeTo===!0&&(a[Z].editRangeTo=!0)}q.value.year===M.value.year&&q.value.month===M.value.month&&(a[F+M.value.day-1].today=!0);const te=a.length%7;if(te>0){const I=7-te;for(let Z=1;Z<=I;Z++)a.push({i:Z,fill:!0})}return a.forEach(I=>{let Z="q-date__calendar-item ";I.fill===!0?Z+="q-date__calendar-item--fill":(Z+=`q-date__calendar-item--${I.in===!0?"in":"out"}`,I.range!==void 0&&(Z+=` q-date__range${I.rangeTo===!0?"-to":I.rangeFrom===!0?"-from":""}`),I.editRange===!0&&(Z+=` q-date__edit-range${I.editRangeFrom===!0?"-from":""}${I.editRangeTo===!0?"-to":""}`),(I.range!==void 0||I.editRange===!0)&&(Z+=` text-${I.color}`)),I.classes=Z}),a}),Oe=f(()=>e.disable===!0?{"aria-disabled":"true"}:{});me(()=>e.modelValue,a=>{if(g===JSON.stringify(a))g=0;else{const c=Fe(_.value,C.value);Le(c.year,c.month,c)}}),me(B,()=>{k.value!==null&&n.$el.contains(document.activeElement)===!0&&k.value.focus()}),me(()=>q.value.year+"|"+q.value.month,()=>{l("navigation",{year:q.value.year,month:q.value.month})}),me(G,a=>{A(a,C.value,"mask"),_.value=a}),me(O,a=>{A(_.value,a,"locale"),C.value=a});function Qe(a){g=JSON.stringify(a)}function Ge(){const{year:a,month:c,day:b}=M.value,V={...q.value,year:a,month:c,day:b},F=ze.value[vt(V)];(F===void 0||F.includes(V.day)===!1)&&bt(V),et(V.year,V.month)}function qt(a){aa(a)===!0&&(B.value=a)}function kt(a,c){["month","year"].includes(a)&&(a==="month"?Dt:tt)(c===!0?-1:1)}function et(a,c){B.value="Calendar",Le(a,c)}function Rt(a,c){if(e.range===!1||!a){ae.value=null;return}const b=Object.assign({...q.value},a),V=c!==void 0?Object.assign({...q.value},c):b;ae.value={init:b,initHash:dt(b),final:V,finalHash:dt(V)},et(b.year,b.month)}function gt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Ee(a,c,b){return Gn(a,c,b,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Fe(a,c){const b=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(b.length===0)return $e();const V=b[b.length-1],F=Ee(V.from!==void 0?V.from:V,a,c);return F.dateHash===null?$e():F}function $e(){let a,c;if(e.defaultYearMonth!==void 0){const b=e.defaultYearMonth.split("/");a=parseInt(b[0],10),c=parseInt(b[1],10)}else{const b=M.value!==void 0?M.value:u();a=b.year,c=b.month}return{year:a,month:c,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:a+"/"+be(c)+"/01"}}function Dt(a){let c=q.value.year,b=Number(q.value.month)+a;b===13?(b=1,c++):b===0&&(b=12,c--),Le(c,b),ue.value===!0&&ct("month")}function tt(a){const c=Number(q.value.year)+a;Le(c,q.value.month),ue.value===!0&&ct("year")}function ht(a){Le(a,q.value.month),B.value=e.defaultView==="Years"?"Months":"Calendar",ue.value===!0&&ct("year")}function Pt(a){Le(q.value.year,a),B.value="Calendar",ue.value===!0&&ct("month")}function st(a,c){(ze.value[c]?.includes(a.day)===!0?y:bt)(a)}function Ne(a){return{year:a.year,month:a.month,day:a.day}}function Le(a,c,b){if(de.value!==null&&a<=de.value.year&&((c<de.value.month||a<de.value.year)&&(c=de.value.month),a=de.value.year),_e.value!==null&&a>=_e.value.year&&((c>_e.value.month||a>_e.value.year)&&(c=_e.value.month),a=_e.value.year),b!==void 0){const{hour:F,minute:te,second:I,millisecond:Z,timezoneOffset:ce,timeHash:We}=b;Object.assign(q.value,{hour:F,minute:te,second:I,millisecond:Z,timezoneOffset:ce,timeHash:We})}const V=a+"/"+be(c)+"/01";V!==q.value.dateHash&&(U.value=q.value.dateHash<V==(o.lang.rtl!==!0)?"left":"right",a!==q.value.year&&(le.value=U.value),Ye(()=>{J.value=a-a%nt-(a<0?nt:0),Object.assign(q.value,{year:a,month:c,day:1,dateHash:V})}))}function yt(a,c,b){const V=a!==null&&a.length===1&&e.multiple===!1?a[0]:a,{reason:F,details:te}=Mt(c,b);Qe(V),l("update:modelValue",V,F,te)}function ct(a){const c=N.value[0]!==void 0&&N.value[0].dateHash!==null?{...N.value[0]}:{...q.value};Ye(()=>{c.year=q.value.year,c.month=q.value.month;const b=e.calendar!=="persian"?new Date(c.year,c.month,0).getDate():Ut(c.year,c.month);c.day=Math.min(Math.max(1,c.day),b);const V=Ze(c),{details:F}=Mt("",c);Qe(V),l("update:modelValue",V,a,F)})}function Mt(a,c){return c.from!==void 0?{reason:`${a}-range`,details:{...Ne(c.target),from:Ne(c.from),to:Ne(c.to)}}:{reason:`${a}-day`,details:Ne(c)}}function Ze(a,c,b){return a.from!==void 0?{from:Pe.value(a.from,c,b),to:Pe.value(a.to,c,b)}:Pe.value(a,c,b)}function bt(a){let c;if(e.multiple===!0)if(a.from!==void 0){const b=dt(a.from),V=dt(a.to),F=N.value.filter(I=>I.dateHash<b||I.dateHash>V),te=re.value.filter(({from:I,to:Z})=>Z.dateHash<b||I.dateHash>V);c=F.concat(te).concat(a).map(I=>Ze(I))}else{const b=ve.value.slice();b.push(Ze(a)),c=b}else c=Ze(a);yt(c,"add",a)}function y(a){if(e.noUnset===!0)return;let c=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const b=Ze(a);a.from!==void 0?c=e.modelValue.filter(V=>V.from!==void 0?V.from!==b.from&&V.to!==b.to:!0):c=e.modelValue.filter(V=>V!==b),c.length===0&&(c=null)}yt(c,"remove",a)}function A(a,c,b){const V=N.value.concat(re.value).map(te=>Ze(te,a,c)).filter(te=>te.from!==void 0?te.from.dateHash!==null&&te.to.dateHash!==null:te.dateHash!==null),F=(e.multiple===!0?V:V[0])||null;Qe(F),l("update:modelValue",F,b)}function Q(){if(e.minimal!==!0)return m("div",{class:"q-date__header "+s.value},[m("div",{class:"relative-position"},[m(Ct,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+ie.value,class:"q-date__header-subtitle q-date__header-link "+(B.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:r.value,...v("vY",{onClick(){B.value="Years"},onKeyup(a){a.keyCode===13&&(B.value="Years")}})},[ie.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m(Ct,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+T.value,class:"q-date__header-title-label q-date__header-link "+(B.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:r.value,...v("vC",{onClick(){B.value="Calendar"},onKeyup(a){a.keyCode===13&&(B.value="Calendar")}})},[T.value]))]),e.todayBtn===!0?m(Be,{class:"q-date__header-today self-start",icon:o.iconSet.datetime.today,"aria-label":o.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:r.value,onClick:Ge}):null])])}function Y({label:a,type:c,key:b,dir:V,goTo:F,boundaries:te,cls:I}){return[m("div",{class:"row items-center q-date__arrow"},[m(Be,{round:!0,dense:!0,size:"sm",flat:!0,icon:K.value[0],"aria-label":c==="Years"?o.lang.date.prevYear:o.lang.date.prevMonth,tabindex:r.value,disable:te.prev===!1,...v("go-#"+c,{onClick(){F(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+I},[m(Ct,{name:"q-transition--jump-"+V},()=>m("div",{key:b},[m(Be,{flat:!0,dense:!0,noCaps:!0,label:a,tabindex:r.value,...v("view#"+c,{onClick:()=>{B.value=c}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(Be,{round:!0,dense:!0,size:"sm",flat:!0,icon:K.value[1],"aria-label":c==="Years"?o.lang.date.nextYear:o.lang.date.nextMonth,tabindex:r.value,disable:te.next===!1,...v("go+#"+c,{onClick(){F(1)}})})])]}const ee={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},Y({label:C.value.months[q.value.month-1],type:"Months",key:q.value.month,dir:U.value,goTo:Dt,boundaries:pe.value.month,cls:" col"}).concat(Y({label:q.value.year,type:"Years",key:q.value.year,dir:le.value,goTo:tt,boundaries:pe.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ge.value.map(a=>m("div",{class:"q-date__calendar-item"},[m("div",a)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m(Ct,{name:"q-transition--slide-"+U.value},()=>m("div",{key:ke.value,class:"q-date__calendar-days fit"},Re.value.map(a=>m("div",{class:a.classes},[a.in===!0?m(Be,{class:a.today===!0?"q-date__today":"",dense:!0,flat:a.flat,unelevated:a.unelevated,color:a.color,textColor:a.textColor,label:a.i,tabindex:r.value,...v("day#"+a.i,{onClick:()=>{Ce(a.i)},onMouseover:()=>{Se(a.i)}})},a.event!==!1?()=>m("div",{class:"q-date__event bg-"+a.event}):null):m("div",""+a.i)]))))])])],Months(){const a=q.value.year===M.value.year,c=V=>de.value!==null&&q.value.year===de.value.year&&de.value.month>V||_e.value!==null&&q.value.year===_e.value.year&&_e.value.month<V,b=C.value.monthsShort.map((V,F)=>{const te=q.value.month===F+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(Be,{class:a===!0&&M.value.month===F+1?"q-date__today":null,flat:te!==!0,label:V,unelevated:te,color:te===!0?x.value:null,textColor:te===!0?P.value:null,tabindex:r.value,disable:c(F+1),...v("month#"+F,{onClick:()=>{Pt(F+1)}})})])});return e.yearsInMonthView===!0&&b.unshift(m("div",{class:"row no-wrap full-width"},[Y({label:q.value.year,type:"Years",key:q.value.year,dir:le.value,goTo:tt,boundaries:pe.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},b)},Years(){const a=J.value,c=a+nt,b=[],V=F=>de.value!==null&&de.value.year>F||_e.value!==null&&_e.value.year<F;for(let F=a;F<=c;F++){const te=q.value.year===F;b.push(m("div",{class:"q-date__years-item flex flex-center"},[m(Be,{key:"yr"+F,class:M.value.year===F?"q-date__today":null,flat:!te,label:F,dense:!0,unelevated:te,color:te===!0?x.value:null,textColor:te===!0?P.value:null,tabindex:r.value,disable:V(F),...v("yr#"+F,{onClick:()=>{ht(F)}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(Be,{round:!0,dense:!0,flat:!0,icon:K.value[0],"aria-label":o.lang.date.prevRangeYears(nt),tabindex:r.value,disable:V(a),...v("y-",{onClick:()=>{J.value-=nt}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},b),m("div",{class:"col-auto"},[m(Be,{round:!0,dense:!0,flat:!0,icon:K.value[1],"aria-label":o.lang.date.nextRangeYears(nt),tabindex:r.value,disable:V(c),...v("y+",{onClick:()=>{J.value+=nt}})})])])}};function Ce(a){const c={...q.value,day:a};if(e.range===!1){st(c,ke.value);return}if(ae.value===null){const b=Re.value.find(F=>F.fill!==!0&&F.i===a);if(e.noUnset!==!0&&b.range!==void 0){y({target:c,from:b.range.from,to:b.range.to});return}if(b.selected===!0){y(c);return}const V=dt(c);ae.value={init:c,initHash:V,final:c,finalHash:V},l("rangeStart",Ne(c))}else{const b=ae.value.initHash,V=dt(c),F=b<=V?{from:ae.value.init,to:c}:{from:c,to:ae.value.init};ae.value=null,bt(b===V?c:{target:c,...F}),l("rangeEnd",{from:Ne(F.from),to:Ne(F.to)})}}function Se(a){if(ae.value!==null){const c={...q.value,day:a};Object.assign(ae.value,{final:c,finalHash:dt(c)})}}return Object.assign(n,{setToday:Ge,setView:qt,offsetCalendar:kt,setCalendarTo:et,setEditingRange:Rt}),()=>{const a=[m("div",{class:"q-date__content col relative-position"},[m(Ct,{name:"q-transition--fade"},ee[B.value])])],c=Ke(t.default);return c!==void 0&&a.push(m("div",{class:"q-date__actions"},c)),e.name!==void 0&&e.disable!==!0&&h(a,"push"),m("div",{class:R.value,...Oe.value},[Q(),m("div",{ref:k,class:"q-date__main col column",tabindex:-1},a)])}}}),ao=Me({name:"QPopupProxy",props:{...pa,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:l,attrs:n}){const{proxy:o}=Ve(),{$q:i}=o,v=z(!1),r=z(null),s=f(()=>parseInt(e.breakpoint,10)),{canShow:S}=Fl({showing:v});function u(){return i.screen.width<s.value||i.screen.height<s.value?"dialog":"menu"}const g=z(u()),D=f(()=>g.value==="menu"?{maxHeight:"99vh"}:{});me(()=>u(),_=>{v.value!==!0&&(g.value=_)});function h(_){v.value=!0,l("show",_)}function k(_){v.value=!1,g.value=u(),l("hide",_)}return Object.assign(o,{show(_){S(_)===!0&&r.value.show(_)},hide(_){r.value.hide(_)},toggle(_){r.value.toggle(_)}}),xt(o,"currentComponent",()=>({type:g.value,ref:r.value})),()=>{const _={ref:r,...D.value,...n,onShow:h,onHide:k};let C;return g.value==="dialog"?C=qa:(C=Aa,Object.assign(_,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),m(C,_,t.default)}}}),na=Me({name:"QBanner",props:{...ut,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=Ve(),n=rt(e,l),o=f(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(n.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),i=f(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const v=[m("div",{class:"q-banner__avatar col-auto row items-center self-start"},Ke(t.avatar)),m("div",{class:"q-banner__content col text-body2"},Ke(t.default))],r=Ke(t.action);return r!==void 0&&v.push(m("div",{class:i.value},r)),m("div",{class:o.value+(e.inlineActions===!1&&r!==void 0?" q-banner--top-padding":""),role:"alert"},v)}}});function At(e,t,l,n){const o=[];return e.forEach(i=>{n(i)===!0?o.push(i):t.push({failedPropValidation:l,file:i})}),o}function Yt(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),Ue(e)}const no={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},oo=["rejected"];function io({editable:e,dnd:t,getFileInput:l,addFilesToQueue:n}){const{props:o,emit:i,proxy:v}=Ve(),r=z(null),s=f(()=>o.accept!==void 0?o.accept.split(",").map(O=>(O=O.trim(),O==="*"?"*/":(O.endsWith("/*")&&(O=O.slice(0,O.length-1)),O.toUpperCase()))):null),S=f(()=>parseInt(o.maxFiles,10)),u=f(()=>parseInt(o.maxTotalSize,10));function g(O){if(e.value)if(O!==Object(O)&&(O={target:null}),O.target?.matches('input[type="file"]')===!0)O.clientX===0&&O.clientY===0&&wt(O);else{const M=l();M!==O.target&&M?.click(O)}}function D(O){e.value&&O&&n(null,O)}function h(O,M,q,B){let $=Array.from(M||O.target.files);const U=[],le=()=>{U.length!==0&&i("rejected",U)};if(o.accept!==void 0&&s.value.indexOf("*/")===-1&&($=At($,U,"accept",j=>s.value.some(J=>j.type.toUpperCase().startsWith(J)||j.name.toUpperCase().endsWith(J))),$.length===0))return le();if(o.maxFileSize!==void 0){const j=parseInt(o.maxFileSize,10);if($=At($,U,"max-file-size",J=>J.size<=j),$.length===0)return le()}if(o.multiple!==!0&&$.length!==0&&($=[$[0]]),$.forEach(j=>{j.__key=j.webkitRelativePath+j.lastModified+j.name+j.size}),B===!0){const j=q.map(J=>J.__key);$=At($,U,"duplicate",J=>j.includes(J.__key)===!1)}if($.length===0)return le();if(o.maxTotalSize!==void 0){let j=B===!0?q.reduce((J,ae)=>J+ae.size,0):0;if($=At($,U,"max-total-size",J=>(j+=J.size,j<=u.value)),$.length===0)return le()}if(typeof o.filter=="function"){const j=o.filter($);$=At($,U,"filter",J=>j.includes(J))}if(o.maxFiles!==void 0){let j=B===!0?q.length:0;if($=At($,U,"max-files",()=>(j++,j<=S.value)),$.length===0)return le()}if(le(),$.length!==0)return $}function k(O){Yt(O),t.value!==!0&&(t.value=!0)}function _(O){Ue(O),(O.relatedTarget!==null||fa.is.safari!==!0?O.relatedTarget!==r.value:document.elementsFromPoint(O.clientX,O.clientY).includes(r.value)===!1)===!0&&(t.value=!1)}function C(O){Yt(O);const M=O.dataTransfer.files;M.length!==0&&n(null,M),t.value=!1}function G(O){if(t.value===!0)return m("div",{ref:r,class:`q-${O}__dnd absolute-full`,onDragenter:Yt,onDragover:Yt,onDragleave:_,onDrop:C})}return Object.assign(v,{pickFiles:g,addFiles:D}),{pickFiles:g,addFiles:D,onDragover:k,onDragleave:_,processFiles:h,getDndNode:G,maxFilesNumber:S,maxTotalSizeNumber:u}}const uo=Me({name:"QFile",inheritAttrs:!1,props:{...yn,...Al,...no,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...kl,...oo],setup(e,{slots:t,emit:l,attrs:n}){const{proxy:o}=Ve(),i=Ml(),v=z(null),r=z(!1),s=_a(e),{pickFiles:S,onDragover:u,onDragleave:g,processFiles:D,getDndNode:h}=io({editable:i.editable,dnd:r,getFileInput:R,addFilesToQueue:x}),k=bn(e),_=f(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),C=f(()=>Zt(_.value)),G=f(()=>_.value.map(N=>N.name).join(", ")),O=f(()=>En(_.value.reduce((N,re)=>N+re.size,0))),M=f(()=>({totalSize:O.value,filesNumber:_.value.length,maxFiles:e.maxFiles})),q=f(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:s.value,...n,id:i.targetUid.value,disabled:i.editable.value!==!0})),B=f(()=>"q-file q-field--auto-height"+(r.value===!0?" q-file--dnd":"")),$=f(()=>e.multiple===!0&&e.append===!0);function U(N){const re=_.value.slice();re.splice(N,1),j(re)}function le(N){const re=_.value.indexOf(N);re!==-1&&U(re)}function j(N){l("update:modelValue",e.multiple===!0?N:N[0])}function J(N){N.keyCode===13&&Ft(N)}function ae(N){(N.keyCode===13||N.keyCode===32)&&S(N)}function R(){return v.value}function x(N,re){const se=D(N,re,_.value,$.value),Pe=R();Pe!=null&&(Pe.value=""),se!==void 0&&((e.multiple===!0?e.modelValue&&se.every(w=>_.value.includes(w)):e.modelValue===se[0])||j($.value===!0?_.value.concat(se):se))}function P(){return[m("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function ue(){if(t.file!==void 0)return _.value.length===0?P():_.value.map((re,se)=>t.file({index:se,file:re,ref:this}));if(t.selected!==void 0)return _.value.length===0?P():t.selected({files:_.value,ref:this});if(e.useChips===!0)return _.value.length===0?P():_.value.map((re,se)=>m(Pa,{key:"file-"+se,removable:i.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{U(se)}},()=>m("span",{class:"ellipsis",textContent:re.name})));const N=e.displayValue!==void 0?e.displayValue:G.value;return N.length!==0?[m("div",{class:e.inputClass,style:e.inputStyle,textContent:N})]:P()}function ve(){const N={ref:v,...q.value,...k.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:x};return e.multiple===!0&&(N.multiple=!0),m("input",N)}return Object.assign(i,{fieldClass:B,emitValue:j,hasValue:C,inputRef:v,innerValue:_,floatingLabel:f(()=>C.value===!0||Zt(e.displayValue)),computedCounter:f(()=>{if(e.counterLabel!==void 0)return e.counterLabel(M.value);const N=e.maxFiles;return`${_.value.length}${N!==void 0?" / "+N:""} (${O.value})`}),getControlChild:()=>h("file"),getControl:()=>{const N={ref:i.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return i.editable.value===!0&&Object.assign(N,{onDragover:u,onDragleave:g,onKeydown:J,onKeyup:ae}),m("div",N,[ve()].concat(ue()))}}),Object.assign(o,{removeAtIndex:U,removeFile:le,getNativeElement:()=>v.value}),xt(o,"nativeEl",()=>v.value),Pl(i)}}),ro=Me({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const n=Ve(),{proxy:{$q:o}}=n,i=v=>{l("click",v)};return()=>{if(e.props===void 0)return m("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:i},Ke(t.default));let v,r;const s=n.vnode.key;if(s){if(v=e.props.colsMap[s],v===void 0)return}else v=e.props.col;if(v.sortable===!0){const u=v.align==="right"?"unshift":"push";r=va(t.default,[]),r[u](m(He,{class:v.__iconClass,name:o.iconSet.table.arrowUp}))}else r=Ke(t.default);const S={class:v.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:v.headerStyle,onClick:u=>{v.sortable===!0&&e.props.sort(v),i(u)}};return m("th",S,r)}}}),so=["ul","ol"],co=Me({name:"QList",props:{...ut,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const l=Ve(),n=rt(e,l.proxy.$q),o=f(()=>so.includes(e.tag)?null:"list"),i=f(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(n.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>m(e.tag,{class:i.value,role:o.value},Ke(t.default))}}),vo=["horizontal","vertical","cell","none"],fo=Me({name:"QMarkupTable",props:{...ut,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>vo.includes(e)}},setup(e,{slots:t}){const l=Ve(),n=rt(e,l.proxy.$q),o=f(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(n.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>m("div",{class:o.value},[m("table",{class:"q-table"},Ke(t.default))])}});function Ya(e,t){return m("div",e,[m("table",{class:"q-table"},t)])}const mo={list:co,table:fo},go=["list","table","__qtable"],ho=Me({name:"QVirtualScroll",props:{...xl,type:{type:String,default:"list",validator:e=>go.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Vl},setup(e,{slots:t,attrs:l}){let n;const o=z(null),i=f(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:v,localResetVirtualScroll:r,padVirtualScroll:s,onVirtualScrollEvt:S}=Ea({virtualScrollLength:i,getVirtualScrollTarget:k,getVirtualScrollEl:h}),u=f(()=>{if(i.value===0)return[];const O=(M,q)=>({index:v.value.from+q,item:M});return e.itemsFn===void 0?e.items.slice(v.value.from,v.value.to).map(O):e.itemsFn(v.value.from,v.value.to-v.value.from).map(O)}),g=f(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),D=f(()=>e.scrollTarget!==void 0?{}:{tabindex:0});me(i,()=>{r()}),me(()=>e.scrollTarget,()=>{C(),_()});function h(){return o.value.$el||o.value}function k(){return n}function _(){n=Tl(h(),e.scrollTarget),n.addEventListener("scroll",S,zt.passive)}function C(){n!==void 0&&(n.removeEventListener("scroll",S,zt.passive),n=void 0)}function G(){let O=s(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(O=t.before().concat(O)),nl(t.after,O)}return Ol(()=>{r()}),al(()=>{_()}),xa(()=>{_()}),Ca(()=>{C()}),it(()=>{C()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Ya({ref:o,class:"q-table__middle "+g.value},G()):m(mo[e.type],{...l,ref:o,class:[l.class,g.value],...D.value},G)}}}),yo={xs:2,sm:4,md:6,lg:10,xl:14};function oa(e,t,l){return{transform:t===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const bo=Me({name:"QLinearProgress",props:{...ut,...ca,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:l}=Ve(),n=rt(e,l.$q),o=da(e,yo),i=f(()=>e.indeterminate===!0||e.query===!0),v=f(()=>e.reverse!==e.query),r=f(()=>({...o.value!==null?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),s=f(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),S=f(()=>oa(e.buffer!==void 0?e.buffer:1,v.value,l.$q)),u=f(()=>`with${e.instantFeedback===!0?"out":""}-transition`),g=f(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${n.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),D=f(()=>oa(i.value===!0?1:e.value,v.value,l.$q)),h=f(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),k=f(()=>({width:`${e.value*100}%`})),_=f(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const C=[m("div",{class:g.value,style:S.value}),m("div",{class:h.value,style:D.value})];return e.stripe===!0&&i.value===!1&&C.push(m("div",{class:_.value,style:k.value})),m("div",{class:s.value,style:r.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},nl(t.default,C))}}});let $t=0;const So={fullscreen:Boolean,noRouteFullscreenExit:Boolean},wo=["update:fullscreen","fullscreen"];function Co(){const e=Ve(),{props:t,emit:l,proxy:n}=e;let o,i,v;const r=z(!1);Sn(e)===!0&&me(()=>n.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),me(()=>t.fullscreen,g=>{r.value!==g&&s()}),me(r,g=>{l("update:fullscreen",g),l("fullscreen",g)});function s(){r.value===!0?u():S()}function S(){r.value!==!0&&(r.value=!0,v=n.$el.parentNode,v.replaceChild(i,n.$el),document.body.appendChild(n.$el),$t++,$t===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:u},Nl.add(o))}function u(){r.value===!0&&(o!==void 0&&(Nl.remove(o),o=void 0),v.replaceChild(n.$el,i),r.value=!1,$t=Math.max(0,$t-1),$t===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),n.$el.scrollIntoView!==void 0&&setTimeout(()=>{n.$el.scrollIntoView()})))}return Ol(()=>{i=document.createElement("span")}),al(()=>{t.fullscreen===!0&&S()}),it(u),Object.assign(n,{toggleFullscreen:s,setFullscreen:S,exitFullscreen:u}),{inFullscreen:r,toggleFullscreen:s}}function xo(e,t){return new Date(e)-new Date(t)}const _o={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function qo(e,t,l,n){const o=f(()=>{const{sortBy:r}=t.value;return r&&l.value.find(s=>s.name===r)||null}),i=f(()=>e.sortMethod!==void 0?e.sortMethod:(r,s,S)=>{const u=l.value.find(h=>h.name===s);if(u===void 0||u.field===void 0)return r;const g=S===!0?-1:1,D=typeof u.field=="function"?h=>u.field(h):h=>h[u.field];return r.sort((h,k)=>{let _=D(h),C=D(k);return u.rawSort!==void 0?u.rawSort(_,C,h,k)*g:_==null?-1*g:C==null?1*g:u.sort!==void 0?u.sort(_,C,h,k)*g:bl(_)===!0&&bl(C)===!0?(_-C)*g:Yl(_)===!0&&Yl(C)===!0?xo(_,C)*g:typeof _=="boolean"&&typeof C=="boolean"?(_-C)*g:([_,C]=[_,C].map(G=>(G+"").toLocaleString().toLowerCase()),_<C?-1*g:_===C?0:g)})});function v(r){let s=e.columnSortOrder;if(Da(r)===!0)r.sortOrder&&(s=r.sortOrder),r=r.name;else{const g=l.value.find(D=>D.name===r);g?.sortOrder&&(s=g.sortOrder)}let{sortBy:S,descending:u}=t.value;S!==r?(S=r,u=s==="da"):e.binaryStateSort===!0?u=!u:u===!0?s==="ad"?S=null:u=!1:s==="ad"?u=!0:S=null,n({sortBy:S,descending:u,page:1})}return{columnToSort:o,computedSortMethod:i,sort:v}}const ko={filter:[String,Object],filterMethod:Function};function Do(e,t){const l=f(()=>e.filterMethod!==void 0?e.filterMethod:(n,o,i,v)=>{const r=o?o.toLowerCase():"";return n.filter(s=>i.some(S=>{const u=v(S,s)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(r)!==-1}))});return me(()=>e.filter,()=>{Ye(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function Po(e,t){for(const l in t)if(t[l]!==e[l])return!1;return!0}function ia(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Mo={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function po(e,t){const{props:l,emit:n}=e,o=z(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length!==0?l.rowsPerPageOptions[0]:5},l.pagination)),i=f(()=>{const u=l["onUpdate:pagination"]!==void 0?{...o.value,...l.pagination}:o.value;return ia(u)}),v=f(()=>i.value.rowsNumber!==void 0);function r(u){s({pagination:u,filter:l.filter})}function s(u={}){Ye(()=>{n("request",{pagination:u.pagination||i.value,filter:u.filter||l.filter,getCellValue:t})})}function S(u,g){const D=ia({...i.value,...u});if(Po(i.value,D)===!0){v.value===!0&&g===!0&&r(D);return}if(v.value===!0){r(D);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?n("update:pagination",D):o.value=D}return{innerPagination:o,computedPagination:i,isServerSide:v,requestServerInteraction:s,setPagination:S}}function Vo(e,t,l,n,o,i){const{props:v,emit:r,proxy:{$q:s}}=e,S=f(()=>n.value===!0?l.value.rowsNumber||0:i.value),u=f(()=>{const{page:q,rowsPerPage:B}=l.value;return(q-1)*B}),g=f(()=>{const{page:q,rowsPerPage:B}=l.value;return q*B}),D=f(()=>l.value.page===1),h=f(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(S.value/l.value.rowsPerPage))),k=f(()=>g.value===0?!0:l.value.page>=h.value),_=f(()=>(v.rowsPerPageOptions.includes(t.value.rowsPerPage)?v.rowsPerPageOptions:[t.value.rowsPerPage].concat(v.rowsPerPageOptions)).map(B=>({label:B===0?s.lang.table.allRows:""+B,value:B})));me(h,(q,B)=>{if(q===B)return;const $=l.value.page;q&&!$?o({page:1}):q<$&&o({page:q})});function C(){o({page:1})}function G(){const{page:q}=l.value;q>1&&o({page:q-1})}function O(){const{page:q,rowsPerPage:B}=l.value;g.value>0&&q*B<S.value&&o({page:q+1})}function M(){o({page:h.value})}return v["onUpdate:pagination"]!==void 0&&r("update:pagination",{...l.value}),{firstRowIndex:u,lastRowIndex:g,isFirstPage:D,isLastPage:k,pagesNumber:h,computedRowsPerPageOptions:_,computedRowsNumber:S,firstPage:C,prevPage:G,nextPage:O,lastPage:M}}const To={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Oo=["update:selected","selection"];function Ao(e,t,l,n){const o=f(()=>{const k={};return e.selected.map(n.value).forEach(_=>{k[_]=!0}),k}),i=f(()=>e.selection!=="none"),v=f(()=>e.selection==="single"),r=f(()=>e.selection==="multiple"),s=f(()=>l.value.length!==0&&l.value.every(k=>o.value[n.value(k)]===!0)),S=f(()=>s.value!==!0&&l.value.some(k=>o.value[n.value(k)]===!0)),u=f(()=>e.selected.length);function g(k){return o.value[k]===!0}function D(){t("update:selected",[])}function h(k,_,C,G){t("selection",{rows:_,added:C,keys:k,evt:G});const O=v.value===!0?C===!0?_:[]:C===!0?e.selected.concat(_):e.selected.filter(M=>k.includes(n.value(M))===!1);t("update:selected",O)}return{hasSelectionMode:i,singleSelection:v,multipleSelection:r,allRowsSelected:s,someRowsSelected:S,rowsSelectedNumber:u,isRowSelected:g,clearSelection:D,updateSelection:h}}function ua(e){return Array.isArray(e)?e.slice():[]}const Fo={expanded:Array},Bo=["update:expanded"];function Ro(e,t){const l=z(ua(e.expanded));me(()=>e.expanded,v=>{l.value=ua(v)});function n(v){return l.value.includes(v)}function o(v){e.expanded!==void 0?t("update:expanded",v):l.value=v}function i(v,r){const s=l.value.slice(),S=s.indexOf(v);r===!0?S===-1&&(s.push(v),o(s)):S!==-1&&(s.splice(S,1),o(s))}return{isRowExpanded:n,setExpanded:o,updateExpanded:i}}const Eo={visibleColumns:Array};function Ho(e,t,l){const n=f(()=>{if(e.columns!==void 0)return e.columns;const r=e.rows[0];return r!==void 0?Object.keys(r).map(s=>({name:s,label:s.toUpperCase(),field:s,align:bl(r[s])?"right":"left",sortable:!0})):[]}),o=f(()=>{const{sortBy:r,descending:s}=t.value;return(e.visibleColumns!==void 0?n.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):n.value).map(u=>{const g=u.align||"right",D=`text-${g}`;return{...u,align:g,__iconClass:`q-table__sort-icon q-table__sort-icon--${g}`,__thClass:D+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===r?` sorted ${s===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>D+" "+u.classes:h=>D+" "+u.classes(h):()=>D}})}),i=f(()=>{const r={};return o.value.forEach(s=>{r[s.name]=s}),r}),v=f(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(l.value===!0?1:0));return{colList:n,computedCols:o,computedColsMap:i,computedColspan:v}}const jt="q-table__bottom row items-center",ja={};Ra.forEach(e=>{ja[e]={}});const ra=Me({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...ja,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...ut,...So,...Eo,...ko,...Mo,...Fo,...To,..._o},emits:["request","virtualScroll",...wo,...Bo,...Oo],setup(e,{slots:t,emit:l}){const n=Ve(),{proxy:{$q:o}}=n,i=rt(e,o),{inFullscreen:v,toggleFullscreen:r}=Co(),s=f(()=>typeof e.rowKey=="function"?e.rowKey:y=>y[e.rowKey]),S=z(null),u=z(null),g=f(()=>e.grid!==!0&&e.virtualScroll===!0),D=f(()=>" q-table__card"+(i.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),h=f(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":D.value)+(i.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(v.value===!0?" fullscreen scroll":"")),k=f(()=>h.value+(e.loading===!0?" q-table--loading":""));me(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+h.value,()=>{g.value===!0&&u.value?.reset()});const{innerPagination:_,computedPagination:C,isServerSide:G,requestServerInteraction:O,setPagination:M}=po(n,Fe),{computedFilterMethod:q}=Do(e,M),{isRowExpanded:B,setExpanded:$,updateExpanded:U}=Ro(e,l),le=f(()=>{let y=e.rows;if(G.value===!0||y.length===0)return y;const{sortBy:A,descending:Q}=C.value;return e.filter&&(y=q.value(y,e.filter,w.value,Fe)),oe.value!==null&&(y=ie.value(e.rows===y?y.slice():y,A,Q)),y}),j=f(()=>le.value.length),J=f(()=>{let y=le.value;if(G.value===!0)return y;const{rowsPerPage:A}=C.value;return A!==0&&(W.value===0&&e.rows!==y?y.length>ge.value&&(y=y.slice(0,ge.value)):y=y.slice(W.value,ge.value)),y}),{hasSelectionMode:ae,singleSelection:R,multipleSelection:x,allRowsSelected:P,someRowsSelected:ue,rowsSelectedNumber:ve,isRowSelected:N,clearSelection:re,updateSelection:se}=Ao(e,l,J,s),{colList:Pe,computedCols:w,computedColsMap:T,computedColspan:L}=Ho(e,C,ae),{columnToSort:oe,computedSortMethod:ie,sort:K}=qo(e,C,Pe,M),{firstRowIndex:W,lastRowIndex:ge,isFirstPage:p,isLastPage:qe,pagesNumber:de,computedRowsPerPageOptions:_e,computedRowsNumber:pe,firstPage:ze,prevPage:Ie,nextPage:Te,lastPage:ke}=Vo(n,_,C,G,M,j),lt=f(()=>J.value.length===0),mt=f(()=>{const y={};return Ra.forEach(A=>{y[A]=e[A]}),y.virtualScrollItemSize===void 0&&(y.virtualScrollItemSize=e.dense===!0?28:48),y});function at(){g.value===!0&&u.value.reset()}function Re(){if(e.grid===!0)return bt();const y=e.hideHeader!==!0?ht:null;if(g.value===!0){const Q=t["top-row"],Y=t["bottom-row"],ee={default:Ce=>qt(Ce.item,t.body,Ce.index)};if(Q!==void 0){const Ce=m("tbody",Q({cols:w.value}));ee.before=y===null?()=>Ce:()=>[y()].concat(Ce)}else y!==null&&(ee.before=y);return Y!==void 0&&(ee.after=()=>m("tbody",Y({cols:w.value}))),m(ho,{ref:u,class:e.tableClass,style:e.tableStyle,...mt.value,scrollTarget:e.virtualScrollTarget,items:J.value,type:"__qtable",tableColspan:L.value,onVirtualScroll:Qe},ee)}const A=[kt()];return y!==null&&A.unshift(y()),Ya({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},A)}function Oe(y,A){if(u.value!==null){u.value.scrollTo(y,A);return}y=parseInt(y,10);const Q=S.value.querySelector(`tbody tr:nth-of-type(${y+1})`);if(Q!==null){const Y=S.value.querySelector(".q-table__middle.scroll"),ee=Q.offsetTop-e.virtualScrollStickySizeStart,Ce=ee<Y.scrollTop?"decrease":"increase";Y.scrollTop=ee,l("virtualScroll",{index:y,from:0,to:_.value.rowsPerPage-1,direction:Ce})}}function Qe(y){l("virtualScroll",y)}function Ge(){return[m(bo,{class:"q-table__linear-progress",color:e.color,dark:i.value,indeterminate:!0,trackColor:"transparent"})]}function qt(y,A,Q){const Y=s.value(y),ee=N(Y);if(A!==void 0){const c={key:Y,row:y,pageIndex:Q,__trClass:ee?"selected":""};if(e.tableRowStyleFn!==void 0&&(c.__trStyle=e.tableRowStyleFn(y)),e.tableRowClassFn!==void 0){const b=e.tableRowClassFn(y);b&&(c.__trClass=`${b} ${c.__trClass}`)}return A(et(c))}const Ce=t["body-cell"],Se=w.value.map(c=>{const b=t[`body-cell-${c.name}`],V=b!==void 0?b:Ce;return V!==void 0?V(Rt({key:Y,row:y,pageIndex:Q,col:c})):m("td",{class:c.__tdClass(y),style:c.__tdStyle(y)},Fe(c,y))});if(ae.value===!0){const c=t["body-selection"],b=c!==void 0?c(gt({key:Y,row:y,pageIndex:Q})):[m(ul,{modelValue:ee,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(V,F)=>{se([Y],[y],V,F)}})];Se.unshift(m("td",{class:"q-table--col-auto-width"},b))}const a={key:Y,class:{selected:ee}};if(e.onRowClick!==void 0&&(a.class["cursor-pointer"]=!0,a.onClick=c=>{l("rowClick",c,y,Q)}),e.onRowDblclick!==void 0&&(a.class["cursor-pointer"]=!0,a.onDblclick=c=>{l("rowDblclick",c,y,Q)}),e.onRowContextmenu!==void 0&&(a.class["cursor-pointer"]=!0,a.onContextmenu=c=>{l("rowContextmenu",c,y,Q)}),e.tableRowStyleFn!==void 0&&(a.style=e.tableRowStyleFn(y)),e.tableRowClassFn!==void 0){const c=e.tableRowClassFn(y);c&&(a.class[c]=!0)}return m("tr",a,Se)}function kt(){const y=t.body,A=t["top-row"],Q=t["bottom-row"];let Y=J.value.map((ee,Ce)=>qt(ee,y,Ce));return A!==void 0&&(Y=A({cols:w.value}).concat(Y)),Q!==void 0&&(Y=Y.concat(Q({cols:w.value}))),m("tbody",Y)}function et(y){return Ee(y),y.cols=y.cols.map(A=>xt({...A},"value",()=>Fe(A,y.row))),y}function Rt(y){return Ee(y),xt(y,"value",()=>Fe(y.col,y.row)),y}function gt(y){return Ee(y),y}function Ee(y){Object.assign(y,{cols:w.value,colsMap:T.value,sort:K,rowIndex:W.value+y.pageIndex,color:e.color,dark:i.value,dense:e.dense}),ae.value===!0&&xt(y,"selected",()=>N(y.key),(A,Q)=>{se([y.key],[y.row],A,Q)}),xt(y,"expand",()=>B(y.key),A=>{U(y.key,A)})}function Fe(y,A){const Q=typeof y.field=="function"?y.field(A):A[y.field];return y.format!==void 0?y.format(Q,A):Q}const $e=f(()=>({pagination:C.value,pagesNumber:de.value,isFirstPage:p.value,isLastPage:qe.value,firstPage:ze,prevPage:Ie,nextPage:Te,lastPage:ke,inFullscreen:v.value,toggleFullscreen:r}));function Dt(){const y=t.top,A=t["top-left"],Q=t["top-right"],Y=t["top-selection"],ee=ae.value===!0&&Y!==void 0&&ve.value>0,Ce="q-table__top relative-position row items-center";if(y!==void 0)return m("div",{class:Ce},[y($e.value)]);let Se;if(ee===!0?Se=Y($e.value).slice():(Se=[],A!==void 0?Se.push(m("div",{class:"q-table__control"},[A($e.value)])):e.title&&Se.push(m("div",{class:"q-table__control"},[m("div",{class:["q-table__title",e.titleClass]},e.title)]))),Q!==void 0&&(Se.push(m("div",{class:"q-table__separator col"})),Se.push(m("div",{class:"q-table__control"},[Q($e.value)]))),Se.length!==0)return m("div",{class:Ce},Se)}const tt=f(()=>ue.value===!0?null:P.value);function ht(){const y=Pt();return e.loading===!0&&t.loading===void 0&&y.push(m("tr",{class:"q-table__progress"},[m("th",{class:"relative-position",colspan:L.value},Ge())])),m("thead",y)}function Pt(){const y=t.header,A=t["header-cell"];if(y!==void 0)return y(st({header:!0})).slice();const Q=w.value.map(Y=>{const ee=t[`header-cell-${Y.name}`],Ce=ee!==void 0?ee:A,Se=st({col:Y});return Ce!==void 0?Ce(Se):m(ro,{key:Y.name,props:Se},()=>Y.label)});if(R.value===!0&&e.grid!==!0)Q.unshift(m("th",{class:"q-table--col-auto-width"}," "));else if(x.value===!0){const Y=t["header-selection"],ee=Y!==void 0?Y(st({})):[m(ul,{color:e.color,modelValue:tt.value,dark:i.value,dense:e.dense,"onUpdate:modelValue":Ne})];Q.unshift(m("th",{class:"q-table--col-auto-width"},ee))}return[m("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},Q)]}function st(y){return Object.assign(y,{cols:w.value,sort:K,colsMap:T.value,color:e.color,dark:i.value,dense:e.dense}),x.value===!0&&xt(y,"selected",()=>tt.value,Ne),y}function Ne(y){ue.value===!0&&(y=!1),se(J.value.map(s.value),J.value,y)}const Le=f(()=>{const y=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?y.reverse():y});function yt(){if(e.hideBottom===!0)return;if(lt.value===!0){if(e.hideNoData===!0)return;const Q=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,Y=t["no-data"],ee=Y!==void 0?[Y({message:Q,icon:o.iconSet.table.warning,filter:e.filter})]:[m(He,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),Q];return m("div",{class:jt+" q-table__bottom--nodata"},ee)}const y=t.bottom;if(y!==void 0)return m("div",{class:jt},[y($e.value)]);const A=e.hideSelectedBanner!==!0&&ae.value===!0&&ve.value>0?[m("div",{class:"q-table__control"},[m("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(ve.value)])])]:[];if(e.hidePagination!==!0)return m("div",{class:jt+" justify-end"},Mt(A));if(A.length!==0)return m("div",{class:jt},A)}function ct(y){M({page:1,rowsPerPage:y.value})}function Mt(y){let A;const{rowsPerPage:Q}=C.value,Y=e.paginationLabel||o.lang.table.pagination,ee=t.pagination,Ce=e.rowsPerPageOptions.length>1;if(y.push(m("div",{class:"q-table__separator col"})),Ce===!0&&y.push(m("div",{class:"q-table__control"},[m("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),m(_l,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:Q,options:_e.value,displayValue:Q===0?o.lang.table.allRows:Q,dark:i.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":ct})])),ee!==void 0)A=ee($e.value);else if(A=[m("span",Q!==0?{class:"q-table__bottom-item"}:{},[Q?Y(W.value+1,Math.min(ge.value,pe.value),pe.value):Y(1,j.value,pe.value)])],Q!==0&&de.value>1){const Se={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(Se.size="sm"),de.value>2&&A.push(m(Be,{key:"pgFirst",...Se,icon:Le.value[0],disable:p.value,"aria-label":o.lang.pagination.first,onClick:ze})),A.push(m(Be,{key:"pgPrev",...Se,icon:Le.value[1],disable:p.value,"aria-label":o.lang.pagination.prev,onClick:Ie}),m(Be,{key:"pgNext",...Se,icon:Le.value[2],disable:qe.value,"aria-label":o.lang.pagination.next,onClick:Te})),de.value>2&&A.push(m(Be,{key:"pgLast",...Se,icon:Le.value[3],disable:qe.value,"aria-label":o.lang.pagination.last,onClick:ke}))}return y.push(m("div",{class:"q-table__control"},A)),y}function Ze(){const y=e.gridHeader===!0?[m("table",{class:"q-table"},[ht()])]:e.loading===!0&&t.loading===void 0?Ge():void 0;return m("div",{class:"q-table__middle"},y)}function bt(){const y=t.item!==void 0?t.item:A=>{const Q=A.cols.map(ee=>m("div",{class:"q-table__grid-item-row"},[m("div",{class:"q-table__grid-item-title"},[ee.label]),m("div",{class:"q-table__grid-item-value"},[ee.value])]));if(ae.value===!0){const ee=t["body-selection"],Ce=ee!==void 0?ee(A):[m(ul,{modelValue:A.selected,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(Se,a)=>{se([A.key],[A.row],Se,a)}})];Q.unshift(m("div",{class:"q-table__grid-item-row"},Ce),m(Wt,{dark:i.value}))}const Y={class:["q-table__grid-item-card"+D.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(Y.style=[Y.style,e.cardStyleFn(A.row)]),e.cardClassFn!==void 0){const ee=e.cardClassFn(A.row);ee&&(Y.class[0]+=` ${ee}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(Y.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(Y.onClick=ee=>{l("RowClick",ee,A.row,A.pageIndex)}),e.onRowDblclick!==void 0&&(Y.onDblclick=ee=>{l("RowDblclick",ee,A.row,A.pageIndex)}),e.onRowContextmenu!==void 0&&(Y.onContextmenu=ee=>{l("rowContextmenu",ee,A.row,A.pageIndex)})),m("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(A.selected===!0?" q-table__grid-item--selected":"")},[m("div",Y,Q)])};return m("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},J.value.map((A,Q)=>y(et({key:s.value(A),row:A,pageIndex:Q}))))}return Object.assign(n.proxy,{requestServerInteraction:O,setPagination:M,firstPage:ze,prevPage:Ie,nextPage:Te,lastPage:ke,isRowSelected:N,clearSelection:re,isRowExpanded:B,setExpanded:$,sort:K,resetVirtualScroll:at,scrollTo:Oe,getCellValue:Fe}),wn(n.proxy,{filteredSortedRows:()=>le.value,computedRows:()=>J.value,computedRowsNumber:()=>pe.value}),()=>{const y=[Dt()],A={ref:S,class:k.value};return e.grid===!0?y.push(Ze()):Object.assign(A,{class:[A.class,e.cardClass],style:e.cardStyle}),y.push(Re(),yt()),e.loading===!0&&t.loading!==void 0&&y.push(t.loading()),m("div",A,y)}}}),Io=["top","middle","bottom"],hl=Me({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Io.includes(e)}},setup(e,{slots:t}){const l=f(()=>e.align!==void 0?{verticalAlign:e.align}:null),n=f(()=>{const o=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(o!==void 0?` text-${o}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>m("div",{class:n.value,style:l.value,role:"status","aria-label":e.label},nl(t.default,e.label!==void 0?[e.label]:[]))}}),sa=Me({name:"QTooltip",inheritAttrs:!1,props:{...Ma,...ga,...Qt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Qt.transitionShow,default:"jump-down"},transitionHide:{...Qt.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:el},self:{type:String,default:"top middle",validator:el},offset:{type:Array,default:()=>[14,14],validator:Oa},scrollTarget:Vl,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ma],setup(e,{slots:t,emit:l,attrs:n}){let o,i;const v=Ve(),{proxy:{$q:r}}=v,s=z(null),S=z(!1),u=f(()=>tl(e.anchor,r.lang.rtl)),g=f(()=>tl(e.self,r.lang.rtl)),D=f(()=>e.persistent!==!0),{registerTick:h,removeTick:k}=ha(),{registerTimeout:_}=ya(),{transitionProps:C,transitionStyle:G}=ba(e),{localScrollTarget:O,changeScrollEvent:M,unconfigureScrollTarget:q}=Va(e,Pe),{anchorEl:B,canShow:$,anchorEvents:U}=Fl({showing:S,configureAnchorEl:se}),{show:le,hide:j}=Sa({showing:S,canShow:$,handleShow:x,handleHide:P,hideOnRouteChange:D,processOnMount:!0});Object.assign(U,{delayShow:N,delayHide:re});const{showPortal:J,hidePortal:ae,renderPortal:R}=wa(v,s,T,"tooltip");if(r.platform.is.mobile===!0){const L={anchorEl:B,innerRef:s,onClickOutside(ie){return j(ie),ie.target.classList.contains("q-dialog__backdrop")&&Ue(ie),!0}},oe=f(()=>e.modelValue===null&&e.persistent!==!0&&S.value===!0);me(oe,ie=>{(ie===!0?Ta:Gt)(L)}),it(()=>{Gt(L)})}function x(L){J(),h(()=>{i=new MutationObserver(()=>ve()),i.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ve(),Pe()}),o===void 0&&(o=me(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,ve)),_(()=>{J(!0),l("show",L)},e.transitionDuration)}function P(L){k(),ae(),ue(),_(()=>{ae(!0),l("hide",L)},e.transitionDuration)}function ue(){i!==void 0&&(i.disconnect(),i=void 0),o!==void 0&&(o(),o=void 0),q(),yl(U,"tooltipTemp")}function ve(){Bl({targetEl:s.value,offset:e.offset,anchorEl:B.value,anchorOrigin:u.value,selfOrigin:g.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function N(L){if(r.platform.is.mobile===!0){wl(),document.body.classList.add("non-selectable");const oe=B.value,ie=["touchmove","touchcancel","touchend","click"].map(K=>[oe,K,"delayHide","passiveCapture"]);Kt(U,"tooltipTemp",ie)}_(()=>{le(L)},e.delay)}function re(L){r.platform.is.mobile===!0&&(yl(U,"tooltipTemp"),wl(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),_(()=>{j(L)},e.hideDelay)}function se(){if(e.noParentEvent===!0||B.value===null)return;const L=r.platform.is.mobile===!0?[[B.value,"touchstart","delayShow","passive"]]:[[B.value,"mouseenter","delayShow","passive"],[B.value,"mouseleave","delayHide","passive"]];Kt(U,"anchor",L)}function Pe(){if(B.value!==null||e.scrollTarget!==void 0){O.value=Tl(B.value,e.scrollTarget);const L=e.noParentEvent===!0?ve:j;M(O.value,L)}}function w(){return S.value===!0?m("div",{...n,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,G.value],role:"tooltip"},Ke(t.default)):null}function T(){return m(Ct,C.value,w)}return it(ue),Object.assign(v.proxy,{updatePosition:ve}),R}}),$o=(e,t)=>{const l=e.__vccOpts||e;for(const[n,o]of t)l[n]=o;return l},Lo={},zo={class:"container bg-white rounded-borders shadow-1 q-pa-md"};function No(e,t){return Lt(),Sl("div",zo,[Cn(e.$slots,"default",{},void 0)])}const Yo=$o(Lo,[["render",No],["__scopeId","data-v-b6cb0a50"]]),jo={class:"row q-col-gutter-xl"},Qo={class:"col-6"},Wo={class:"q-mb-md"},Uo={class:"row q-col-gutter-sm"},Ko={class:"col-6"},Zo={class:"col-6"},Xo={class:"col-6"},Jo={class:"col-6"},Go={class:"col-6"},ei={class:"col-6"},ti={class:"col-6"},li={class:"col-6"},ai={class:"row q-col-gutter-lg q-my-lg"},ni={class:"text-caption"},oi={key:0,class:"flex flex-center q-pa-xl"},ii={key:2,class:"text-grey text-center q-pa-md"},ui={class:"row q-col-gutter-lg q-my-lg"},ri={class:"row items-center q-col-gutter-md text-caption"},si={class:"col-auto"},ci={class:"col-auto"},di={class:"col-auto"},vi={class:"col-auto"},fi={class:"col-auto"},mi={class:"col-auto"},gi={class:"text-subtitle2 q-mb-sm"},Si={__name:"ParserPage",setup(e){const t=kn();function l(R=[]){const x=ue=>R.some(ve=>ve.name===ue),P=[{name:"SAPActive",label:"SAP Status",field:"SAPActive",align:"center",sortable:!1},{name:"NotPostToSAP",label:"Business Rules",field:"NotPostToSAP",align:"center",sortable:!1},{name:"CanPostToSAP",label:"Final Decision",field:"CanPostToSAP",align:"center",sortable:!1}];return[...R,...P.filter(ue=>!x(ue.name))]}const n=f(()=>h.value.length),o=f(()=>h.value.filter(R=>R.CanPostToSAP).length),i=z(null),v=[{label:"Dreamprice",value:"dreamprice"},{label:"Winners",value:"winners"}],r=z(null),s=z({CustomerCode:"",CustomerName:"",PONumber:"",OrderDate:"",DeliveryDate:"",PostingDate:null,PostedBy:"",confirmed:"Yes"}),S=z([]),u=z([]),g=z([]),D=z([]),h=z([]),k=z(!1),_=z(!1),C=z(null),G=z([]);function O(R){return R.SAPActive?R.ItemCode?R.StockQty<=0?"No stock available":R.StockQty<R.Qty?"Insufficient stock":"Ready to post":"Item not mapped":"Item inactive in SAP"}function M(R){if(!R)return null;const x=String(R).trim();if(/^\d{4}-\d{2}-\d{2}$/.test(x))return x;let P=x.match(/^(\d{2})[./-](\d{2})[./-](\d{4})$/);if(P)return`${P[3]}-${P[2]}-${P[1]}`;if(P=x.match(/^(\d{4})[./-](\d{2})[./-](\d{2})$/),P)return`${P[1]}-${P[2]}-${P[3]}`;const ue=new Date(x);return isNaN(ue.getTime())?null:ue.toISOString().slice(0,10)}al(async()=>{s.value.PostedBy=localStorage.getItem("username")||"SYSTEM";try{const R=await Ht.get("/api/customers/codes");G.value=R.data.rows.map(x=>({label:`${x.CardCode} - ${x.CardName}`,value:x.CardCode}))}catch{t.notify({type:"negative",message:"Failed loading customer list"})}});const q=async R=>{if(R)try{const x=await Ht.get(`/api/customers/${R}`);s.value.CustomerCode=R,s.value.CustomerName=x.data.row?.CardName||"Unknown"}catch{t.notify({type:"negative",message:"Customer lookup failed"})}};function B(){const R=[];for(const x of h.value){if(!x.CanPostToSAP){console.log(" SKIPPED SAP LINE",{Barcode:x.Barcode,ItemCode:x.ItemCode,SAPActive:x.SAPActive,StockQty:x.StockQty,Qty:x.Qty,NotPostToSAP:x.NotPostToSAP});continue}const P=Number(x.Qty??0);if(P<=0){console.log(" SKIPPED (INVALID QTY)",{Barcode:x.Barcode,Qty:x.Qty});continue}R.push({ItemCode:x.ItemCode,Quantity:P}),console.log(" SAP LINE READY",{ItemCode:x.ItemCode,Quantity:P})}return{CardCode:s.value.CustomerCode,DocDueDate:s.value.DeliveryDate,DocDate:s.value.PostingDate,TaxDate:s.value.OrderDate,NumAtCard:s.value.PONumber,Confirmed:s.value.confirmed,DocumentLines:R}}async function $(){const R=B();if(R.DocumentLines.length===0)return t.notify({type:"warning",message:"No valid lines to post to SAP."});try{const x=await Ht.post("/api/sap/post",R);if(!x.data.success)throw{response:{data:x.data}};t.notify({type:"positive",message:"Posted to SAP successfully!"})}catch(x){console.error(" SAP ERROR:",x);const P=U(x?.response?.data,x);t.notify({type:"negative",message:P,timeout:7e3,multiLine:!0})}}function U(R,x){return R?.sapResponse?.error?.message?.value?R.sapResponse.error.message.value:x?.response?.data?.sapResponse?.error?.message?.value?x.response.data.sapResponse.error.message.value:R?.message?R.message:x?.message||"Operation failed"}const le=()=>{t.dialog({title:"Confirm Save",message:"Are you sure you want to save this document and all line items?",cancel:!0,ok:{label:"Save",color:"primary"}}).onOk(async()=>{try{if(_.value=!0,!s.value.CustomerCode)return _.value=!1,t.notify({type:"negative",message:"Customer Code is mandatory"});if(!h.value.length)return _.value=!1,t.notify({type:"negative",message:"No lines to save"});const R={header:{CustomerCode:s.value.CustomerCode,CustomerName:s.value.CustomerName,PONumber:s.value.PONumber,OrderDate:s.value.OrderDate,DeliveryDate:s.value.DeliveryDate,PostingDate:s.value.PostingDate,PostedBy:s.value.PostedBy||"SYSTEM"},lines:h.value.map(P=>({ItemCode:P.ItemCode,Description:P.DBDescription||P.Description,Barcode:P.Barcode,Quantity:P.Qty||0,UnitPrice:null,POPrice:P.UnitPrice||0,StockQty:P.StockQty||0}))},x=await Ht.post("/api/pdf/save",R);if(!x.data.success)throw new Error(x.data.message);t.notify({type:"positive",message:`Saved successfully! DocEntry: ${x.data.docEntry}, DocNum: ${x.data.docNum}`}),t.dialog({title:"Post to SAP?",message:"Do you want to send this document to SAP now?",cancel:!0,ok:{label:"Post",color:"primary"}}).onOk($)}catch(R){t.notify({type:"negative",message:"Save failed: "+R.message})}finally{_.value=!1}})},j=R=>{R&&R.type!=="application/pdf"&&(t.notify({type:"negative",message:"Only PDF files allowed"}),r.value=null)},J=async()=>{k.value=!0,u.value=[],S.value=[],D.value=[],g.value=[],h.value=[];try{const R=new FormData;R.append("pdf",r.value),R.append("template",i.value);const P=(await Ht.post("/api/extract",R,{headers:{"Content-Type":"multipart/form-data"}})).data;if(!P.success)throw new Error(P.message);const ue=P.header||{};s.value.PONumber=ue.PONumber||"",s.value.OrderDate=M(ue.OrderDate),s.value.DeliveryDate=M(ue.DeliveryDate),s.value.PostingDate=ue.PostingDate||null,S.value=P.columnsRaw||[],u.value=P.rawRows||[],g.value=l(P.columnsMapped||[]),D.value=P.mappedRows||[],h.value=P.enrichedRows||P.mappedRows||[],t.notify({type:"positive",message:"PDF extracted successfully!"})}catch(R){t.notify({type:"negative",message:"Failed: "+R.message})}finally{k.value=!1}};function ae(){i.value=null,r.value=null,s.value={CustomerCode:"",CustomerName:"",PONumber:"",OrderDate:"",DeliveryDate:"",PostingDate:null,PostedBy:""},u.value=[],S.value=[],D.value=[],g.value=[],h.value=[]}return(R,x)=>(Lt(),jl(Dn,{padding:""},{default:ye(()=>[X(Yo,null,{default:ye(()=>[fe("div",jo,[fe("div",Qo,[fe("div",Wo,[X(na,{rounded:"",class:"text-dark q-pa-sm"},{default:ye(()=>[X(_l,{outlined:"",dense:"",modelValue:C.value,"onUpdate:modelValue":[x[0]||(x[0]=P=>C.value=P),q],options:G.value,label:"Customer Code","emit-value":"","map-options":"",class:"q-mb-sm"},null,8,["modelValue","options"]),fe("div",Uo,[fe("div",Ko,[X(St,{outlined:"",dense:"",readonly:"",modelValue:s.value.CustomerCode,"onUpdate:modelValue":x[1]||(x[1]=P=>s.value.CustomerCode=P),label:"Customer Code"},null,8,["modelValue"])]),fe("div",Zo,[X(St,{outlined:"",dense:"",readonly:"",modelValue:s.value.CustomerName,"onUpdate:modelValue":x[2]||(x[2]=P=>s.value.CustomerName=P),label:"Customer Name"},null,8,["modelValue"])]),fe("div",Xo,[X(St,{outlined:"",dense:"",readonly:"",modelValue:s.value.PONumber,"onUpdate:modelValue":x[3]||(x[3]=P=>s.value.PONumber=P),label:"PO Number"},null,8,["modelValue"])]),fe("div",Jo,[X(St,{outlined:"",dense:"",readonly:"",modelValue:s.value.OrderDate,"onUpdate:modelValue":x[4]||(x[4]=P=>s.value.OrderDate=P),label:"Order Date"},null,8,["modelValue"])]),fe("div",Go,[X(St,{outlined:"",dense:"",readonly:"",modelValue:s.value.DeliveryDate,"onUpdate:modelValue":x[5]||(x[5]=P=>s.value.DeliveryDate=P),label:"Delivery Date"},null,8,["modelValue"])]),fe("div",ei,[X(St,{outlined:"",dense:"",modelValue:s.value.PostingDate,"onUpdate:modelValue":x[7]||(x[7]=P=>s.value.PostingDate=P),label:"Posting Date",mask:"####-##-##",readonly:""},{append:ye(()=>[X(He,{name:"event",class:"cursor-pointer"},{default:ye(()=>[X(ao,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:ye(()=>[X(lo,{modelValue:s.value.PostingDate,"onUpdate:modelValue":x[6]||(x[6]=P=>s.value.PostingDate=P),mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),x[12]||(x[12]=fe("div",{class:"col-6"},null,-1)),fe("div",ti,[X(St,{outlined:"",dense:"",readonly:"",modelValue:s.value.PostedBy,"onUpdate:modelValue":x[8]||(x[8]=P=>s.value.PostedBy=P),label:"Posted By"},null,8,["modelValue"])])])]),_:1})])]),fe("div",li,[X(rl,{flat:"",bordered:"",class:"q-pa-md"},{default:ye(()=>[X(pt,null,{default:ye(()=>[...x[13]||(x[13]=[fe("div",{class:"text-h6"}," PDF Data Extraction",-1),fe("div",{class:"text-caption text-grey-7"},"Upload your PDF and extract table data",-1)])]),_:1}),X(Wt),X(pt,{class:"q-gutter-md"},{default:ye(()=>[X(_l,{outlined:"",dense:"",modelValue:i.value,"onUpdate:modelValue":x[9]||(x[9]=P=>i.value=P),options:v,label:"Extraction Template","emit-value":"","map-options":""},null,8,["modelValue"]),X(uo,{modelValue:r.value,"onUpdate:modelValue":[x[11]||(x[11]=P=>r.value=P),j],filled:"","bottom-slots":"",label:"Upload PDF",counter:""},{prepend:ye(()=>[X(He,{name:"cloud_upload"})]),append:ye(()=>[X(He,{name:"close",class:"cursor-pointer",onClick:x[10]||(x[10]=xn(P=>r.value=null,["stop","prevent"]))})]),_:1},8,["modelValue"])]),_:1}),X(_n,{align:"right"},{default:ye(()=>[X(Be,{label:"Reset",flat:"",color:"grey",onClick:ae}),X(Be,{label:"Extract",color:"secondary",icon:"search",loading:k.value,disable:!r.value||!i.value,onClick:J},null,8,["loading","disable"])]),_:1})]),_:1})])]),fe("div",ai,[X(rl,{bordered:"",class:"q-mb-lg"},{default:ye(()=>[X(pt,null,{default:ye(()=>[x[15]||(x[15]=fe("div",{class:"text-h6"}," SUPPLIER PDF TABLE",-1)),fe("div",ni,[x[14]||(x[14]=Xe(" Template: ",-1)),fe("b",null,Vt(i.value),1)])]),_:1}),X(Wt),X(pt,null,{default:ye(()=>[k.value?(Lt(),Sl("div",oi,[X(qn,{size:"50px",color:"secondary"})])):u.value.length>0?(Lt(),jl(ra,{key:1,columns:S.value,rows:u.value,"row-key":"_id",dense:"",flat:"",bordered:""},null,8,["columns","rows"])):(Lt(),Sl("div",ii,"No raw data extracted yet."))]),_:1})]),_:1})]),fe("div",ui,[x[23]||(x[23]=Xe(" > ",-1)),X(na,{dense:"",class:"bg-grey-1 q-mb-sm"},{default:ye(()=>[fe("div",ri,[fe("div",si,[X(hl,{color:"green"}),x[16]||(x[16]=Xe(" Active in SAP",-1))]),fe("div",ci,[X(hl,{color:"red"}),x[17]||(x[17]=Xe(" Inactive in SAP",-1))]),fe("div",di,[X(He,{name:"check_circle",color:"green",size:"16px"}),x[18]||(x[18]=Xe(" Business rules OK ",-1))]),fe("div",vi,[X(He,{name:"block",color:"red",size:"16px"}),x[19]||(x[19]=Xe(" Blocked by business rules ",-1))]),fe("div",fi,[X(He,{name:"task_alt",color:"green",size:"16px"}),x[20]||(x[20]=Xe(" Will be posted to SAP ",-1))]),fe("div",mi,[X(He,{name:"cancel",color:"red",size:"16px"}),x[21]||(x[21]=Xe(" Will NOT be posted ",-1))])])]),_:1}),fe("div",gi,"  "+Vt(o.value)+" / "+Vt(n.value)+" lines will be posted to SAP ",1),X(rl,{bordered:""},{default:ye(()=>[X(pt,null,{default:ye(()=>[...x[22]||(x[22]=[fe("div",{class:"text-h6"}," Mapped ERP Table",-1),fe("div",{class:"text-caption"},"Standardized schema",-1)])]),_:1}),X(Wt),X(pt,null,{default:ye(()=>[X(ra,{columns:g.value,rows:h.value,"row-key":"Barcode",dense:"",flat:"",bordered:""},{"body-cell-SAPActive":ye(P=>[X(hl,{color:P.row.SAPActive?"green":"red","text-color":"white"},{default:ye(()=>[Xe(Vt(P.row.SAPActive?"ACTIVE":"INACTIVE"),1)]),_:2},1032,["color"])]),"body-cell-NotPostToSAP":ye(P=>[X(He,{name:P.row.NotPostToSAP?"block":"check_circle",color:P.row.NotPostToSAP?"red":"green",size:"18px"},{default:ye(()=>[X(sa,null,{default:ye(()=>[Xe(Vt(O(P.row)),1)]),_:2},1024)]),_:2},1032,["name","color"])]),"body-cell-CanPostToSAP":ye(P=>[X(He,{name:P.row.CanPostToSAP?"task_alt":"cancel",color:P.row.CanPostToSAP?"green":"red",size:"20px"},{default:ye(()=>[X(sa,null,{default:ye(()=>[Xe(Vt(P.row.CanPostToSAP?"Will be posted to SAP":"Blocked by system"),1)]),_:2},1024)]),_:2},1032,["name","color"])]),_:1},8,["columns","rows"])]),_:1})]),_:1}),X(Be,{label:"Save Document",color:"primary",icon:"save",class:"q-mt-md",loading:_.value,disable:_.value||h.value.length===0,onClick:le},null,8,["loading","disable"])])]),_:1})]),_:1}))}};export{Si as default};
